<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>TrussTopology.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>TrussTopology</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "TrussTopology.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Hbol", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n# Truss Topology Design with Multiple Load Scenarios\n\nThis notebook demonstrates how to model and solve a **truss topology optimization problem** using the MOSEK Fusion API inspired by [Lectures on Modern Convex Optimization](https://www2.isye.gatech.edu/~nemirovs/LMCOBookSIAM.pdf) by Ben-Tal and Nemirovski. Truss topology design (TTD) is a classical structural optimization problem that arises in civil, mechanical, and aerospace engineering. The task is to determine the optimal configuration of a truss, a structure formed by straight bars connected at nodes, that is both lightweight and stiff under a given set of external loads. The problem is based on equilibrium constraints and second-order cone reformulations.\n\n\n\n---\n\n\n## Problem Definition\n\n\nWe consider a truss consisting of:\n\n- A set of **bars** \\(i \\in I = \\{1,\\dots,n\\}\\)\n- A set of **nodes** \\(j \\in J = \\{1,\\dots,m\\}\\)\n- A set of **load scenarios** \\(k \\in K = \\{1,\\dots,K\\}\\)\n\n\n### Parameters\n\n- \\( f(j,k) \\): External force applied at node \\(j\\) in scenario \\(k\\).\n- \\( b(j,i) \\): Stiffness contribution of bar \\(i\\) at node \\(j\\).\n- \\( V_{\\max} \\): Maximum allowed total volume of the truss.\n\n\n### Decision Variables\n\n- \\( t(i) \\geq 0 \\): Volume of bar \\(i\\).\n- \\( s(i,k) \\): Stress/elongation of bar \\(i\\) under load scenario \\(k\\).\n- \\( \\sigma(i,k) \\geq 0 \\): Required cross-sectional area of bar \\(i\\) under load \\(k\\).\n- \\( \\tau \\geq 0 \\): Upper bound on compliance, which is minimized.\n\n\n---\n\n\n## Constraints\n\n\nThe optimization model can be written as:\n\n\n1. **Rotated Cone Constraints (Stress-Volume Relation):**\n\n\n\n\\[\ns(i,k)^2 \\leq 2 \\, t(i) \\, \\sigma(i,k), \\quad \\forall i \\in I, \\, k \\in K\n\\]\n\nThis enforces the geometric relation between stress, bar volume, and cross-sectional area. It is expressed as a **rotated second-order cone**.\n\n\n2. **Resource Constraints (Scenario-wise Compliance):**\n\n\n\n\\[\n\\sum_{i \\in I} \\sigma(i,k) \\leq \\tau, \\quad \\forall k \\in K\n\\]\n\nEnsures that under each load scenario, the required cross-sections do not exceed \\(\\tau\\).\n\n\n3. **Total Volume Constraint:**\n\n\n\n\\[\n\\sum_{i \\in I} t(i) \\leq V_{\\max}\n\\]\n\nLimits the total material used in the truss.\n\n4. **Stiffness Equilibrium Constraints:**\n\n\\[\n\\sum_{i \\in I} b(j,i) \\, s(i,k) = f(j,k), \\quad \\forall j \\in J, \\, k \\in K\n\\]\n\nEnsures that stresses balance the external nodal forces for each scenario.\n\n\n---\n\n\n## Objective\n\n\nWe minimize the upper bound on compliance \\(\\tau\\):\n\n\\[\n\\min \\tau\n\\]\n\n\nThis ensures the stiffest possible truss design under all load scenarios.\n\n\n---\n\n\n## Cone Reformulation\n\n\nConstraint (1) is written in conic form using the **rotated quadratic cone**:\n\n\n\\[\n(s(i,k), \\, t(i), \\, \\sigma(i,k)) \\in \\mathcal{Q}^r = \\{ (u,v,w) : 2uv \\geq w^2, u,v \\geq 0 \\}\n\\]\n\n\nThis makes the problem a **Second Order Cone Program (SOCP)**, which can be solved efficiently with MOSEK.\n\n\n---\n\nThe data is taken from the example provided in [this implementation by GAMS](https://www.gams.com/latest/gamslib_ml/libhtml/gamslib_trussm.html) and is provided below\n.\n\"\"\"\n)", "code_hash": "0464175f1556a72f7e3c195a52f0a9ff", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "MJUe", "name": "_"}, {"code": "import numpy as np\n\n# Index sets\nbars = [\"i1\",\"i2\",\"i3\",\"i4\",\"i5\"]\nnodes = [\"j1\",\"j2\",\"j3\",\"j4\"]\nscen = [\"k1\",\"k2\",\"k3\"]\n\nn = 5\nm = 4\nK = 3\n\n# External Force Matrix\nf = np.array([\n    [ 0.0008,  1.0668,  0.2944],   # j1\n    [ 0.0003,  0.0593, -1.3362],   # j2\n    [-0.0006, -0.0956,  0.7143],   # j3\n    [-1.0003, -0.8323,  1.6236],   # j4\n])  # shape (m, K)\n\n# b(j,i) stiffness matrix (rows = nodes, cols = bars)\nb = np.array([\n    [ 1.0,  0.0,  0.5,  0.0,  0.0],   # j1\n    [ 0.0,  0.0, -0.5, -1.0,  0.0],   # j2\n    [ 0.0,  0.5,  0.0,  0.0,  1.0],   # j3\n    [ 0.0,  0.5,  0.0,  1.0,  0.0],   # j4\n])  # shape (m, n)\n\nmaxvolume = 10.0", "code_hash": "4567133040074e7f96726534f1a8f1b4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "mo.md(r\"\"\"Now, we can implement this model using MOSEK Fusion in Python.\"\"\")", "code_hash": "9b95930ac253b732c8dcd8221bcf5ec8", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "bkHC", "name": "_"}, {"code": "from mosek.fusion import Model, Domain, Expr, ObjectiveSense, Matrix, Var\nimport mosek.fusion.pythonic\n\n# Build Fusion model\nM = Model(\"truss\")\n\n# Variables\ntau   = M.variable(\"tau\", 1, Domain.greaterThan(0.0))\nt     = M.variable(\"t\", n, Domain.greaterThan(0.0))       # bar volumes\nsigma = M.variable(\"sigma\", [n, K], Domain.greaterThan(0.0))\ns     = M.variable(\"s\", [n, K], Domain.unbounded())       # stresses\n\n# Rotated cone constraints: (t[i], sigma[i,k], s[i,k]) in RQCone\nfor k in range(K):\n    M.constraint(Expr.hstack(t,sigma[:,k],s[:,k]), Domain.inRotatedQCone())\n\n# Resource constraints: sum_i sigma[i,k] \u003C= tau\nfor k in range(K):\n    M.constraint(\n        Expr.sum(sigma[:,k]) \u003C= (tau)\n    )\n\n# Volume constraint: sum_i t[i] \u003C= maxvolume\nM.constraint(Expr.sum(t), Domain.lessThan(maxvolume))\n\n# Stiffness equations: sum_i s[i,k] * b[j,i] = f[j,k]\nfor j in range(m):\n    for k in range(K):\n        lhs = Expr.dot(b[j, :], s.slice([0, k], [n, k+1]))\n        M.constraint(lhs, Domain.equalsTo(f[j, k]))\n\n# Objective: minimize tau\nM.objective(ObjectiveSense.Minimize, tau)\n\n# Solve\nM.solve()\n\n# Print results\nprint(\"Problem Status:\", M.getProblemStatus())\nprint(\"tau (objective):\", f\"{tau.level()[0]:.4f}\")", "code_hash": "3e99c8db067f629a6b181d187054199f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "0464175f1556a72f7e3c195a52f0a9ff", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"truss-topology-design-with-multiple-load-scenarios\"\u003ETruss Topology Design with Multiple Load Scenarios\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EThis notebook demonstrates how to model and solve a \u003Cstrong\u003Etruss topology optimization problem\u003C/strong\u003E using the MOSEK Fusion API inspired by \u003Ca href=\"https://www2.isye.gatech.edu/~nemirovs/LMCOBookSIAM.pdf\" rel=\"noopener noreferrer\" target=\"_blank\"\u003ELectures on Modern Convex Optimization\u003C/a\u003E by Ben-Tal and Nemirovski. Truss topology design (TTD) is a classical structural optimization problem that arises in civil, mechanical, and aerospace engineering. The task is to determine the optimal configuration of a truss, a structure formed by straight bars connected at nodes, that is both lightweight and stiff under a given set of external loads. The problem is based on equilibrium constraints and second-order cone reformulations.\u003C/span\u003E\n\u003Chr /\u003E\n\u003Ch2 id=\"problem-definition\"\u003EProblem Definition\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EWe consider a truss consisting of:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EA set of \u003Cstrong\u003Ebars\u003C/strong\u003E \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i \\in I = \\{1,\\dots,n\\}||)\u003C/marimo-tex\u003E\u003C/li\u003E\n\u003Cli\u003EA set of \u003Cstrong\u003Enodes\u003C/strong\u003E \u003Cmarimo-tex class=\"arithmatex\"\u003E||(j \\in J = \\{1,\\dots,m\\}||)\u003C/marimo-tex\u003E\u003C/li\u003E\n\u003Cli\u003EA set of \u003Cstrong\u003Eload scenarios\u003C/strong\u003E \u003Cmarimo-tex class=\"arithmatex\"\u003E||(k \\in K = \\{1,\\dots,K\\}||)\u003C/marimo-tex\u003E\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3 id=\"parameters\"\u003EParameters\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( f(j,k) ||)\u003C/marimo-tex\u003E: External force applied at node \u003Cmarimo-tex class=\"arithmatex\"\u003E||(j||)\u003C/marimo-tex\u003E in scenario \u003Cmarimo-tex class=\"arithmatex\"\u003E||(k||)\u003C/marimo-tex\u003E.\u003C/li\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( b(j,i) ||)\u003C/marimo-tex\u003E: Stiffness contribution of bar \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i||)\u003C/marimo-tex\u003E at node \u003Cmarimo-tex class=\"arithmatex\"\u003E||(j||)\u003C/marimo-tex\u003E.\u003C/li\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( V_{\\max} ||)\u003C/marimo-tex\u003E: Maximum allowed total volume of the truss.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3 id=\"decision-variables\"\u003EDecision Variables\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( t(i) \\geq 0 ||)\u003C/marimo-tex\u003E: Volume of bar \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i||)\u003C/marimo-tex\u003E.\u003C/li\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( s(i,k) ||)\u003C/marimo-tex\u003E: Stress/elongation of bar \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i||)\u003C/marimo-tex\u003E under load scenario \u003Cmarimo-tex class=\"arithmatex\"\u003E||(k||)\u003C/marimo-tex\u003E.\u003C/li\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\sigma(i,k) \\geq 0 ||)\u003C/marimo-tex\u003E: Required cross-sectional area of bar \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i||)\u003C/marimo-tex\u003E under load \u003Cmarimo-tex class=\"arithmatex\"\u003E||(k||)\u003C/marimo-tex\u003E.\u003C/li\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\tau \\geq 0 ||)\u003C/marimo-tex\u003E: Upper bound on compliance, which is minimized.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Chr /\u003E\n\u003Ch2 id=\"constraints\"\u003EConstraints\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EThe optimization model can be written as:\u003C/span\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003ERotated Cone Constraints (Stress-Volume Relation):\u003C/strong\u003E\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\ns(i,k)^2 \\leq 2 \\, t(i) \\, \\sigma(i,k), \\quad \\forall i \\in I, \\, k \\in K\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThis enforces the geometric relation between stress, bar volume, and cross-sectional area. It is expressed as a \u003Cstrong\u003Erotated second-order cone\u003C/strong\u003E.\u003C/span\u003E\n\u003Col start=\"2\"\u003E\n\u003Cli\u003E\u003Cstrong\u003EResource Constraints (Scenario-wise Compliance):\u003C/strong\u003E\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\sum_{i \\in I} \\sigma(i,k) \\leq \\tau, \\quad \\forall k \\in K\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EEnsures that under each load scenario, the required cross-sections do not exceed \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\tau||)\u003C/marimo-tex\u003E.\u003C/span\u003E\n\u003Col start=\"3\"\u003E\n\u003Cli\u003E\u003Cstrong\u003ETotal Volume Constraint:\u003C/strong\u003E\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\sum_{i \\in I} t(i) \\leq V_{\\max}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003ELimits the total material used in the truss.\u003C/span\u003E\n\u003Col start=\"4\"\u003E\n\u003Cli\u003E\u003Cstrong\u003EStiffness Equilibrium Constraints:\u003C/strong\u003E\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\sum_{i \\in I} b(j,i) \\, s(i,k) = f(j,k), \\quad \\forall j \\in J, \\, k \\in K\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EEnsures that stresses balance the external nodal forces for each scenario.\u003C/span\u003E\n\u003Chr /\u003E\n\u003Ch2 id=\"objective\"\u003EObjective\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EWe minimize the upper bound on compliance \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\tau||)\u003C/marimo-tex\u003E:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\min \\tau\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThis ensures the stiffest possible truss design under all load scenarios.\u003C/span\u003E\n\u003Chr /\u003E\n\u003Ch2 id=\"cone-reformulation\"\u003ECone Reformulation\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EConstraint (1) is written in conic form using the \u003Cstrong\u003Erotated quadratic cone\u003C/strong\u003E:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n(s(i,k), \\, t(i), \\, \\sigma(i,k)) \\in \\mathcal{Q}^r = \\{ (u,v,w) : 2uv \\geq w^2, u,v \\geq 0 \\}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThis makes the problem a \u003Cstrong\u003ESecond Order Cone Program (SOCP)\u003C/strong\u003E, which can be solved efficiently with MOSEK.\u003C/span\u003E\n\u003Chr /\u003E\n\u003Cspan class=\"paragraph\"\u003EThe data is taken from the example provided in \u003Ca href=\"https://www.gams.com/latest/gamslib_ml/libhtml/gamslib_trussm.html\" rel=\"noopener noreferrer\" target=\"_blank\"\u003Ethis implementation by GAMS\u003C/a\u003E and is provided below\n.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "4567133040074e7f96726534f1a8f1b4", "console": [], "id": "vblA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9b95930ac253b732c8dcd8221bcf5ec8", "console": [], "id": "bkHC", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ENow, we can implement this model using MOSEK Fusion in Python.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "3e99c8db067f629a6b181d187054199f", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Problem Status: ProblemStatus.PrimalAndDualFeasible\ntau (objective): 0.5701\n", "type": "stream"}], "id": "lEQa", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20Truss%20Topology%20Design%20with%20Multiple%20Load%20Scenarios%0A%0A%20%20%20%20This%20notebook%20demonstrates%20how%20to%20model%20and%20solve%20a%20**truss%20topology%20optimization%20problem**%20using%20the%20MOSEK%20Fusion%20API%20inspired%20by%20%5BLectures%20on%20Modern%20Convex%20Optimization%5D(https%3A%2F%2Fwww2.isye.gatech.edu%2F~nemirovs%2FLMCOBookSIAM.pdf)%20by%20Ben-Tal%20and%20Nemirovski.%20Truss%20topology%20design%20(TTD)%20is%20a%20classical%20structural%20optimization%20problem%20that%20arises%20in%20civil%2C%20mechanical%2C%20and%20aerospace%20engineering.%20The%20task%20is%20to%20determine%20the%20optimal%20configuration%20of%20a%20truss%2C%20a%20structure%20formed%20by%20straight%20bars%20connected%20at%20nodes%2C%20that%20is%20both%20lightweight%20and%20stiff%20under%20a%20given%20set%20of%20external%20loads.%20The%20problem%20is%20based%20on%20equilibrium%20constraints%20and%20second-order%20cone%20reformulations.%0A%0A%0A%0A%20%20%20%20---%0A%0A%0A%20%20%20%20%23%23%20Problem%20Definition%0A%0A%0A%20%20%20%20We%20consider%20a%20truss%20consisting%20of%3A%0A%0A%20%20%20%20-%20A%20set%20of%20**bars**%20%5C(i%20%5Cin%20I%20%3D%20%5C%7B1%2C%5Cdots%2Cn%5C%7D%5C)%0A%20%20%20%20-%20A%20set%20of%20**nodes**%20%5C(j%20%5Cin%20J%20%3D%20%5C%7B1%2C%5Cdots%2Cm%5C%7D%5C)%0A%20%20%20%20-%20A%20set%20of%20**load%20scenarios**%20%5C(k%20%5Cin%20K%20%3D%20%5C%7B1%2C%5Cdots%2CK%5C%7D%5C)%0A%0A%0A%20%20%20%20%23%23%23%20Parameters%0A%0A%20%20%20%20-%20%5C(%20f(j%2Ck)%20%5C)%3A%20External%20force%20applied%20at%20node%20%5C(j%5C)%20in%20scenario%20%5C(k%5C).%0A%20%20%20%20-%20%5C(%20b(j%2Ci)%20%5C)%3A%20Stiffness%20contribution%20of%20bar%20%5C(i%5C)%20at%20node%20%5C(j%5C).%0A%20%20%20%20-%20%5C(%20V_%7B%5Cmax%7D%20%5C)%3A%20Maximum%20allowed%20total%20volume%20of%20the%20truss.%0A%0A%0A%20%20%20%20%23%23%23%20Decision%20Variables%0A%0A%20%20%20%20-%20%5C(%20t(i)%20%5Cgeq%200%20%5C)%3A%20Volume%20of%20bar%20%5C(i%5C).%0A%20%20%20%20-%20%5C(%20s(i%2Ck)%20%5C)%3A%20Stress%2Felongation%20of%20bar%20%5C(i%5C)%20under%20load%20scenario%20%5C(k%5C).%0A%20%20%20%20-%20%5C(%20%5Csigma(i%2Ck)%20%5Cgeq%200%20%5C)%3A%20Required%20cross-sectional%20area%20of%20bar%20%5C(i%5C)%20under%20load%20%5C(k%5C).%0A%20%20%20%20-%20%5C(%20%5Ctau%20%5Cgeq%200%20%5C)%3A%20Upper%20bound%20on%20compliance%2C%20which%20is%20minimized.%0A%0A%0A%20%20%20%20---%0A%0A%0A%20%20%20%20%23%23%20Constraints%0A%0A%0A%20%20%20%20The%20optimization%20model%20can%20be%20written%20as%3A%0A%0A%0A%20%20%20%201.%20**Rotated%20Cone%20Constraints%20(Stress-Volume%20Relation)%3A**%0A%0A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20s(i%2Ck)%5E2%20%5Cleq%202%20%5C%2C%20t(i)%20%5C%2C%20%5Csigma(i%2Ck)%2C%20%5Cquad%20%5Cforall%20i%20%5Cin%20I%2C%20%5C%2C%20k%20%5Cin%20K%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20This%20enforces%20the%20geometric%20relation%20between%20stress%2C%20bar%20volume%2C%20and%20cross-sectional%20area.%20It%20is%20expressed%20as%20a%20**rotated%20second-order%20cone**.%0A%0A%0A%20%20%20%202.%20**Resource%20Constraints%20(Scenario-wise%20Compliance)%3A**%0A%0A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Csum_%7Bi%20%5Cin%20I%7D%20%5Csigma(i%2Ck)%20%5Cleq%20%5Ctau%2C%20%5Cquad%20%5Cforall%20k%20%5Cin%20K%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Ensures%20that%20under%20each%20load%20scenario%2C%20the%20required%20cross-sections%20do%20not%20exceed%20%5C(%5Ctau%5C).%0A%0A%0A%20%20%20%203.%20**Total%20Volume%20Constraint%3A**%0A%0A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Csum_%7Bi%20%5Cin%20I%7D%20t(i)%20%5Cleq%20V_%7B%5Cmax%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Limits%20the%20total%20material%20used%20in%20the%20truss.%0A%0A%20%20%20%204.%20**Stiffness%20Equilibrium%20Constraints%3A**%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Csum_%7Bi%20%5Cin%20I%7D%20b(j%2Ci)%20%5C%2C%20s(i%2Ck)%20%3D%20f(j%2Ck)%2C%20%5Cquad%20%5Cforall%20j%20%5Cin%20J%2C%20%5C%2C%20k%20%5Cin%20K%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Ensures%20that%20stresses%20balance%20the%20external%20nodal%20forces%20for%20each%20scenario.%0A%0A%0A%20%20%20%20---%0A%0A%0A%20%20%20%20%23%23%20Objective%0A%0A%0A%20%20%20%20We%20minimize%20the%20upper%20bound%20on%20compliance%20%5C(%5Ctau%5C)%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Cmin%20%5Ctau%0A%20%20%20%20%5C%5D%0A%0A%0A%20%20%20%20This%20ensures%20the%20stiffest%20possible%20truss%20design%20under%20all%20load%20scenarios.%0A%0A%0A%20%20%20%20---%0A%0A%0A%20%20%20%20%23%23%20Cone%20Reformulation%0A%0A%0A%20%20%20%20Constraint%20(1)%20is%20written%20in%20conic%20form%20using%20the%20**rotated%20quadratic%20cone**%3A%0A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20(s(i%2Ck)%2C%20%5C%2C%20t(i)%2C%20%5C%2C%20%5Csigma(i%2Ck))%20%5Cin%20%5Cmathcal%7BQ%7D%5Er%20%3D%20%5C%7B%20(u%2Cv%2Cw)%20%3A%202uv%20%5Cgeq%20w%5E2%2C%20u%2Cv%20%5Cgeq%200%20%5C%7D%0A%20%20%20%20%5C%5D%0A%0A%0A%20%20%20%20This%20makes%20the%20problem%20a%20**Second%20Order%20Cone%20Program%20(SOCP)**%2C%20which%20can%20be%20solved%20efficiently%20with%20MOSEK.%0A%0A%0A%20%20%20%20---%0A%0A%20%20%20%20The%20data%20is%20taken%20from%20the%20example%20provided%20in%20%5Bthis%20implementation%20by%20GAMS%5D(https%3A%2F%2Fwww.gams.com%2Flatest%2Fgamslib_ml%2Flibhtml%2Fgamslib_trussm.html)%20and%20is%20provided%20below%0A%20%20%20%20.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20numpy%20as%20np%0A%0A%20%20%20%20%23%20Index%20sets%0A%20%20%20%20bars%20%3D%20%5B%22i1%22%2C%22i2%22%2C%22i3%22%2C%22i4%22%2C%22i5%22%5D%0A%20%20%20%20nodes%20%3D%20%5B%22j1%22%2C%22j2%22%2C%22j3%22%2C%22j4%22%5D%0A%20%20%20%20scen%20%3D%20%5B%22k1%22%2C%22k2%22%2C%22k3%22%5D%0A%0A%20%20%20%20n%20%3D%205%0A%20%20%20%20m%20%3D%204%0A%20%20%20%20K%20%3D%203%0A%0A%20%20%20%20%23%20External%20Force%20Matrix%0A%20%20%20%20f%20%3D%20np.array(%5B%0A%20%20%20%20%20%20%20%20%5B%200.0008%2C%20%201.0668%2C%20%200.2944%5D%2C%20%20%20%23%20j1%0A%20%20%20%20%20%20%20%20%5B%200.0003%2C%20%200.0593%2C%20-1.3362%5D%2C%20%20%20%23%20j2%0A%20%20%20%20%20%20%20%20%5B-0.0006%2C%20-0.0956%2C%20%200.7143%5D%2C%20%20%20%23%20j3%0A%20%20%20%20%20%20%20%20%5B-1.0003%2C%20-0.8323%2C%20%201.6236%5D%2C%20%20%20%23%20j4%0A%20%20%20%20%5D)%20%20%23%20shape%20(m%2C%20K)%0A%0A%20%20%20%20%23%20b(j%2Ci)%20stiffness%20matrix%20(rows%20%3D%20nodes%2C%20cols%20%3D%20bars)%0A%20%20%20%20b%20%3D%20np.array(%5B%0A%20%20%20%20%20%20%20%20%5B%201.0%2C%20%200.0%2C%20%200.5%2C%20%200.0%2C%20%200.0%5D%2C%20%20%20%23%20j1%0A%20%20%20%20%20%20%20%20%5B%200.0%2C%20%200.0%2C%20-0.5%2C%20-1.0%2C%20%200.0%5D%2C%20%20%20%23%20j2%0A%20%20%20%20%20%20%20%20%5B%200.0%2C%20%200.5%2C%20%200.0%2C%20%200.0%2C%20%201.0%5D%2C%20%20%20%23%20j3%0A%20%20%20%20%20%20%20%20%5B%200.0%2C%20%200.5%2C%20%200.0%2C%20%201.0%2C%20%200.0%5D%2C%20%20%20%23%20j4%0A%20%20%20%20%5D)%20%20%23%20shape%20(m%2C%20n)%0A%0A%20%20%20%20maxvolume%20%3D%2010.0%0A%20%20%20%20return%20K%2C%20b%2C%20f%2C%20m%2C%20maxvolume%2C%20n%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Now%2C%20we%20can%20implement%20this%20model%20using%20MOSEK%20Fusion%20in%20Python.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(K%2C%20b%2C%20f%2C%20m%2C%20maxvolume%2C%20n)%3A%0A%20%20%20%20from%20mosek.fusion%20import%20Model%2C%20Domain%2C%20Expr%2C%20ObjectiveSense%2C%20Matrix%2C%20Var%0A%20%20%20%20import%20mosek.fusion.pythonic%0A%0A%20%20%20%20%23%20Build%20Fusion%20model%0A%20%20%20%20M%20%3D%20Model(%22truss%22)%0A%0A%20%20%20%20%23%20Variables%0A%20%20%20%20tau%20%20%20%3D%20M.variable(%22tau%22%2C%201%2C%20Domain.greaterThan(0.0))%0A%20%20%20%20t%20%20%20%20%20%3D%20M.variable(%22t%22%2C%20n%2C%20Domain.greaterThan(0.0))%20%20%20%20%20%20%20%23%20bar%20volumes%0A%20%20%20%20sigma%20%3D%20M.variable(%22sigma%22%2C%20%5Bn%2C%20K%5D%2C%20Domain.greaterThan(0.0))%0A%20%20%20%20s%20%20%20%20%20%3D%20M.variable(%22s%22%2C%20%5Bn%2C%20K%5D%2C%20Domain.unbounded())%20%20%20%20%20%20%20%23%20stresses%0A%0A%20%20%20%20%23%20Rotated%20cone%20constraints%3A%20(t%5Bi%5D%2C%20sigma%5Bi%2Ck%5D%2C%20s%5Bi%2Ck%5D)%20in%20RQCone%0A%20%20%20%20for%20k%20in%20range(K)%3A%0A%20%20%20%20%20%20%20%20M.constraint(Expr.hstack(t%2Csigma%5B%3A%2Ck%5D%2Cs%5B%3A%2Ck%5D)%2C%20Domain.inRotatedQCone())%0A%0A%20%20%20%20%23%20Resource%20constraints%3A%20sum_i%20sigma%5Bi%2Ck%5D%20%3C%3D%20tau%0A%20%20%20%20for%20k%20in%20range(K)%3A%0A%20%20%20%20%20%20%20%20M.constraint(%0A%20%20%20%20%20%20%20%20%20%20%20%20Expr.sum(sigma%5B%3A%2Ck%5D)%20%3C%3D%20(tau)%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%23%20Volume%20constraint%3A%20sum_i%20t%5Bi%5D%20%3C%3D%20maxvolume%0A%20%20%20%20M.constraint(Expr.sum(t)%2C%20Domain.lessThan(maxvolume))%0A%0A%20%20%20%20%23%20Stiffness%20equations%3A%20sum_i%20s%5Bi%2Ck%5D%20*%20b%5Bj%2Ci%5D%20%3D%20f%5Bj%2Ck%5D%0A%20%20%20%20for%20j%20in%20range(m)%3A%0A%20%20%20%20%20%20%20%20for%20k%20in%20range(K)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20lhs%20%3D%20Expr.dot(b%5Bj%2C%20%3A%5D%2C%20s.slice(%5B0%2C%20k%5D%2C%20%5Bn%2C%20k%2B1%5D))%0A%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(lhs%2C%20Domain.equalsTo(f%5Bj%2C%20k%5D))%0A%0A%20%20%20%20%23%20Objective%3A%20minimize%20tau%0A%20%20%20%20M.objective(ObjectiveSense.Minimize%2C%20tau)%0A%0A%20%20%20%20%23%20Solve%0A%20%20%20%20M.solve()%0A%0A%20%20%20%20%23%20Print%20results%0A%20%20%20%20print(%22Problem%20Status%3A%22%2C%20M.getProblemStatus())%0A%20%20%20%20print(%22tau%20(objective)%3A%22%2C%20f%22%7Btau.level()%5B0%5D%3A.4f%7D%22)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">76f6a1a7012bbde7a4931f16574a6ce1</marimo-code-hash>
</body>
</html>
