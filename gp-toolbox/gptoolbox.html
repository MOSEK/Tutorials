<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>gptoolbox.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>gptoolbox</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "gptoolbox.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "mo.md(\n    r\"\"\"\n![MOSEK ApS](https://www.mosek.com/static/images/branding/webgraphmoseklogocolor.png )\n\n\"\"\"\n)", "code_hash": "aaba25e4b70049d71cd19942a60da389", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Hbol", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nA *geometric program (GP)* is a type of mathematical optimization problem characterized by objective and constraint functions that have a special form. To describe the said special form, one will require the following definitions:\n\nThe smallest terms creating the GPs are called *monomials*.\n\"\"\"\n)", "code_hash": "421ffe8723bf37ac3b287a380c3882e0", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "MJUe", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Monomial functions\n\nLet \\( x_1, \\dots, x_n \\) denote \\( n \\) real positive variables, and \\( x = (x_1, \\dots, x_n) \\) a vector with components \\( x_i \\). A real-valued function \\( f \\) of \\( x \\), with the form\n\n\\[\nf(x) = c x_1^{a_1} x_2^{a_2} \\cdots x_n^{a_n}\n\\]\n\nwhere \\( c \u003E 0 \\) and \\( a_i \\in \\mathbb{R} \\), is called a **monomial function**, or more informally, a **monomial** (of the variables \\( x_1, \\dots, x_n \\)). We refer to the constant \\( c \\) as the **coefficient** of the monomial, and we refer to the constants \\( a_1, \\dots, a_n \\) as the **exponents** of the monomial.\n\nAs an example, \\( 2.3 x_1^2 x_2^{-0.15} \\) is a monomial of the variables \\( x_1 \\) and \\( x_2 \\), with coefficient 2.3 and \\( x_2 \\)-exponent \\( -0.15 \\).\n\nAny positive constant is a monomial, as is any variable. Monomials are closed under multiplication and division: if \\( f \\) and \\( g \\) are both monomials, then so are \\( f * g \\) and \\( f / g \\) (this includes scaling by any positive constant). A monomial raised to any power is also a monomial:\n\n\\[\nf(x)^y = (c x_1^{a_1} x_2^{a_2} \\cdots x_n^{a_n})^y = c^y x_1^{a_1 y} x_2^{a_2 y} \\cdots x_n^{a_n y}\n\\]\n\"\"\"\n)", "code_hash": "d34aa213fc81c257ae052c633da02158", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "vblA", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Posynomial functions\n\nA sum of one or more monomials, i.e., a function of the form\n\n$$\nf(x) = \\sum_{k=1}^{K} c_k x_1^{a_{1k}} x_2^{a_{2k}} \\cdots x_n^{a_{nk}},\n$$\n\nwhere $c_k \u003E 0$, is called a *posynomial function* or, more simply, a *posynomial* (with $K$ terms, in the variables $x_1, \\ldots, x_n$). Any monomial is also a posynomial. \n\nFor example each of the following terms are monomials (thus also posynomials)\n\n$$\n0.5{x}{y}, \\quad 2x^2\\sqrt{z}, \\quad xyz\n$$\n\nAnd the sumation of these monomials is a polynomial.\n\n$$\n0.5{x}{y} + 2x^2\\sqrt{z} + xyz\n$$\n\"\"\"\n)", "code_hash": "4c352c028b49afbd11b39ca11014fdd9", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "bkHC", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Standard Form of a Geometric Program\n\nA **Geometric Program (GP)** is an optimization problem of the following form:\n\n\\[\n\\begin{aligned}\n\\text{minimize} \\quad \u0026 f_0(x) \\\\\n\\text{subject to} \\quad \u0026 f_i(x) \\leq 1, \\quad i = 1, \\dots, m \\\\\n\u0026 x_j \u003E 0, \\quad j = 1, \\dots, n\n\\end{aligned}\n\\]\n\nWhere:\n\n- \\( f_0 : \\mathbb{R}_{+}^n \\to \\mathbb{R}_{+} \\) is a **posynomial objective function**,\n- Each \\( f_i : \\mathbb{R}_{+}^n \\to \\mathbb{R}_+ \\) is a **posynomial inequality constraint**.\n\nThe problem is **not convex** in this form due to the nonlinear structure of monomials and posynomials. However, it can be convexified using a logarithmic transformation and can also be represented in an exponential cone. The next section provides a tool that solves the geometric programs, handling the transformations automatically.\n\"\"\"\n)", "code_hash": "1149e90abc4773a7112691ebff8906b9", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "lEQa", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Geometric Programming Tool\n\nThe tool initializes an optimization model and provides the following core functions for model construction and analysis:\n\n- **`printModel()`** \u2014 Outputs the current model structure in a readable format.\n- **`addObjective(Monomial)`** \u2014 Defines and adds the objective function to the model.\n- **`addConstraint(List of Monomials)`** \u2014 Adds one or more constraints to the model formulation.\n- **`Solve()`** \u2014 Solves the model once all components (objective and constraints) are defined.\n- **`analyse()`** \u2014 Prints key specifications and diagnostics of the model.\n- **`evaluateObjective()`** \u2014 Computes the value of the objective function for the obtained solution.\n\nThe class and function definitions, as well as the model implementation, can be found in the Appendix.\n\nWith only using these functionalities, one can solve a geometric program without further implementation. Let's go over an example. Say we model the following problem: \n\n$\\quad\\quad\\quad$ Minimize:\n\n$$\nx + y^2 z\n$$\n\n$\\quad\\quad\\quad$ Subject to:\n\n$$\n0.1\\sqrt{x} + 2y^{-1} \\leq 1,\n$$\n\n$$\nz^{-1} + yx^{-2} \\leq 1.\n$$\n\n\nTo initialize a geometric program, call the *GeometricProgramming(m,n)* class, with inputs m = number of constraint, n = number of variables.\n\"\"\"\n)", "code_hash": "6612f429506ffdd9e9ca20a9d746243d", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "PKri", "name": "_"}, {"code": "gp = GeometricProgramming(2, 3) # m,n = (#) of constraints, (#) of variables", "code_hash": "d3a987364a882d27052171a30276e774", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nThe objective function in a geometric program is, by definition, minimized. The `addObjective([Monomial, ...])` function accepts either a single `Monomial` object or a list of `Monomial` objects as input.\n\nA `Monomial` object can be constructed using the following method:\n\n`Monomial.add(coefficient, indices, alphas)`\n\n- **`coefficient`**: $c$, a positive scalar  \n- **`indices`**: an array of selected variable indices $i  \\in \\{1, \\dots, N\\}$  \n\n  _Example_: To add a monomial involving $y$ and $z$ from the list $x, y, z, w$, input `indices = [1,2]`  \n- **`alphas`**: an array of exponents $a_i$ corresponding to each selected variable\n\"\"\"\n)", "code_hash": "43c553ef4765d9da6d1731ec31950a86", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "SFPL", "name": "_"}, {"code": "gp.addObjective([\n    Monomial.add(1, [0], [1]), # x\n    Monomial.add(1, [1,2], [2,1]) # y^2 * z\n])", "code_hash": "4e9beadcc26bebef47541fa0c548362c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nBy definition, all constraint posynomials in a geometric program must be less than or equal to 1. Similar to the objective function, constraints can be added using the `addConstraint(constraintIndex, [Monomial, ...])` function. \n\nThis function accepts a constraint index and either a single `Monomial` object or a list of `Monomial` objects as input. Monomials can be added individually or collectively in a single call.\n\"\"\"\n)", "code_hash": "868b3464d8e9e49ec0a04c93232ea5a1", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "RGSE", "name": "_"}, {"code": "#First Constraint, \u003C= 1\ngp.addConstraint(0, [\n    Monomial.add(0.1, [0], [0.5]), # 0.1 * x^(0.5)\n    Monomial.add(2, [1], [-1]) # 2 * y^-1\n])\n\n#Second Constraint - First Monomial \ngp.addConstraint(1, Monomial.add(1, [2], [-1])) # z^-1\n\n#Second Constraint - Second Monomial, \u003C= 1\ngp.addConstraint(1, Monomial.add(1, [0,1], [-2,1])) #x^-2 * y", "code_hash": "13c790adfdbd7dd1916d8ec9feddd6ba", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "_"}, {"code": "mo.md(r\"\"\"The `printModel()` function provides a convenient way to display the current model, including the objective function and all defined constraints, in a readable format.\"\"\")", "code_hash": "32a60dbe030f26999ecdbdfab84fd13d", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "emfo", "name": "_"}, {"code": "gp.printModel()", "code_hash": "38ac3127fb3c733d69420718b7b6b90e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}, {"code": "mo.md(\n    \"\"\"\nOnce the entire model has been defined, the problem can be solved using the `Solve()` function. This function returns both the solution object and the values of the decision variables. If needed, the user can further interact with the solution object for additional information.\n\nUsing the retrieved decision variable values, the user can also compute the objective function value.\n\"\"\"\n)", "code_hash": "e365f5dee6caa910148091b12e4814c4", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "nWHF", "name": "_"}, {"code": "sol, variables = gp.Solve() #solve the model", "code_hash": "8701442421ad87efa5b2588cf0b729f6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "_"}, {"code": "mo.md(r\"\"\"The objective function value can be calculated using the `evaluateObjective(variables)` function, based on the decision variable values obtained from the solution.\"\"\")", "code_hash": "4c6eb053dcb1926e1d1348e62d4eda73", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ZHCJ", "name": "_"}, {"code": "obj_val = gp.evaluateObjective(variables) #Calculate the objective value\nprint(f\"Objective value: {obj_val:.6f}\")\n\nprint(\"Optimal values of (x_i):\")\nfor i, val in enumerate(sol):\n    print(f\"x_{i} = {np.exp(val):.6f}\")", "code_hash": "9e51ad70266de5148d19723cfa483639", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "_"}, {"code": "mo.md(r\"\"\"### Analyser\"\"\")", "code_hash": "3c8e6303394f4c1fe14bbe2a1da81182", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "qnkX", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nWriting well-structured geometric programs can sometimes be a non-trivial task. To assist with this, the analyse() function is included in the tool. This function provides a comprehensive summary and diagnostic of the model, helping users identify potential issues before solving.\n\n- **Constraints and Variables**: Prints the total number of constraints and decision variables.\n- **Monomial Coefficients**: Shows the range of monomial coefficients (min\u2013max), if any are added.\n- **Alpha Values**: Displays the range of non-zero absolute exponent values (alphas).\n- **Degree of Difficulty**: `totalMonomials - number of variables - 1`\n- **Variable Sign Check**: Issues warnings if a variable appears only with positive or only with negative exponents in all monomials, which helps identify potential modeling issues.\n\n\u003Cins\u003EVariable Sign Check\u003C/ins\u003E is a critical part of the model analysis, as it determines the potential solvability issues of the geometric program and can often be overlooked.\n\nIf, for a decision variable, all the defined alpha values (exponents) have the same sign\u2014either all positive or all negative\u2014this may indicate a structural issue in the model that could hinder its solvability. When such a problem is encountered, the analyser function can help the user to identify the problem. \n\nLet's look at an example that illustrates this issue. Firstly the model below displays an example where the decision variable $x$ combines both positive and negative alpha values. Therefore, MOSEK can retrieve the optimal solution easily.\n\"\"\"\n)", "code_hash": "3134234ae38d08b23c97fc88f0398840", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "TqIu", "name": "_"}, {"code": "gp2 = GeometricProgramming(0, 1) # m,n = (#) of constraints, (#) of variables\ngp2.addObjective([\n    Monomial.add(1, [0], [2]), # x^2\n    Monomial.add(1, [0], [-3])]) # y^ (-3)\n\ngp2.printModel()\nsol2,variables2 = gp2.Solve() #solve the model", "code_hash": "c3ae98a961f885a45d35d90308d59f8b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "_"}, {"code": "mo.md(r\"\"\"As seen below, the analyse function does not warn the user, only presents the characteristics of the model.\"\"\")", "code_hash": "3554f12c0fd8d51f97a83137f44e47fc", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "DnEU", "name": "_"}, {"code": "gp2.analyse()", "code_hash": "ad4a377c6549ac0bf5bb57327730414f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "_"}, {"code": "mo.md(r\"\"\"In the modified model below, the second monomial is discarded leaving the decision variable $x$ only with a positive alpha value. Therefore, the $x$ value will converge to _zero_ while being strictly bigger then _zero_, resulting in the absence of an optimal solution.\"\"\")", "code_hash": "717c381bd84c6954eb81d9ebe8563373", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ecfG", "name": "_"}, {"code": "gp3 = GeometricProgramming(0, 1) # m,n = (#) of constraints, (#) of variables\ngp3.addObjective(Monomial.add(1, [0], [2])) # x^2\n\ngp3.printModel()\nsol3,variables3 = gp3.Solve() #solve the model", "code_hash": "c8e9162de7a9cf66102702513d75af9d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Pvdt", "name": "_"}, {"code": "mo.md(r\"\"\"Due to the described problem, the analyser warns the user about the weakness of the model.\"\"\")", "code_hash": "3566fe65968b93289197585967710c3e", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ZBYS", "name": "_"}, {"code": "gp3.analyse()", "code_hash": "23bc34730f76f5a9b2fe765c07b33f0e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aLJB", "name": "_"}, {"code": "mo.md(r\"\"\"Similarly to the example before, if the decision variable $x$ is only left with a negative alpha value we will encounter infeasibility again. It can be easily seen that decision variable $x$ will converge to infinity, making the problem unbounded. When called, the analyser again warns the user about the mentioned property.\"\"\")", "code_hash": "9c83be7e3622f407b71b390ae74e515c", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "nHfw", "name": "_"}, {"code": "gp4 = GeometricProgramming(0, 1) # m,n = (#) of constraints, (#) of variables\ngp4.addObjective(Monomial.add(1, [0], [-3])) # x^(-3)\n\ngp4.printModel()\nsol4,variables4 = gp4.Solve() #solve the model\ngp4.analyse()", "code_hash": "2d9d6950784262442894162830fb6eda", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xXTn", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nAlthough this property can sometimes prevent a model from being solvable, there are cases where it can still be handled correctly. The following example presents a model with two decision variables, one of which appears only with positive exponents. In this case, due to the structure of the feasible region, an optimal solution exists. \n\nNevertheless, this property should be treated as a potential risk and considered a diagnostic checkpoint, especially if the model fails. It can be flagged using the analyser function for early detection.\n\"\"\"\n)", "code_hash": "83c9c33eb1cf4f8fe584596fbe34483b", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "AjVT", "name": "_"}, {"code": "gp5 = GeometricProgramming(1, 2) # m,n = (#) of constraints, (#) of variables\ngp5.addObjective([Monomial.add(1, [0], [2]), #x^2\n                  Monomial.add(1, [1], [-1])]) # y^(-1)\n\ngp5.addConstraint(0,[Monomial.add(1,[0],[1]), Monomial.add(1,[1],[1])])\n\ngp5.printModel()\nsol5,variables5 = gp5.Solve() #solve the model\ngp5.analyse()", "code_hash": "2b33077ddf370c1b394c1c8c96e2269e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "pHFh", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Further Details\n\nAs explained earlier, the problem is non-convex. To solve the problem, the following transformation from the non-convex form to an exponential cone representation can be applied, which is already handled by the geometric programming class.\n\n### Logarithmic Transformation (Convexification)\n\nTo reformulate a GP as a **convex problem**, we apply a change of variables:\n\n\\[\nx_j = e^{y_j} \\quad \\text{for } j = 1, \\dots, n\n\\quad \\Rightarrow \\quad x = e^y, \\quad y \\in \\mathbb{R}^n\n\\]\n\nA **monomial** becomes:\n\n\\[\nf(x) = c \\cdot e^{a^T y} \\quad \\Rightarrow \\quad \\log f(x) = \\log c + a^T y\n\\]\n\nA **posynomial** becomes:\n\n\\[\nf(x) = \\sum_{k=1}^K c_k \\cdot e^{a_k^T y} \\quad \\Rightarrow \\quad \\log f(x) = \\log \\left( \\sum_{k=1}^K \\exp(a_k^T y + \\log c_k) \\right)\n\\]\n\nThis is known as the **log-sum-exp function**, which is a **convex** function of \\( y \\in \\mathbb{R}^n \\).\n\"\"\"\n)", "code_hash": "5eb4e8ed6673f826caf0060ef8953584", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "NCOB", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n### Convex Reformulation\n\nThe original GP is now transformed into the following **convex optimization problem**:\n\n\\[\n\\begin{aligned}\n\\text{minimize} \\quad \u0026 t \\\\\n\\text{subject to} \\quad \u0026 \\log\\left( \\sum_{k=1}^{K_0} \\exp(a_k^{(0)\\top} y + \\log c_k^{(0)}) \\right) \\leq t \\\\\n\u0026 \\log\\left( \\sum_{k=1}^{K_i} \\exp(a_k^{(i)\\top} y + \\log c_k^{(i)}) \\right) \\leq 0, \\quad i = 1, \\dots, m\n\\end{aligned}\n\\]\n\nWhere \\( t \\in \\mathbb{R} \\) is a **scalar upper bound variable**.\n\"\"\"\n)", "code_hash": "4bf851a32dfbf880d93600bddce92174", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "aqbW", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n### Exponential Cone Representation\n\nThe objective function constraint of the form:\n\n\\[\n\\log\\left( \\sum_{k=1}^{K_0} \\exp(a_k^{(0)\\top} y + \\log c_k^{(0)}) \\right) \\leq t\n\\]\n\ncan be equivalently written as:\n\n\\[\n\\sum_{k} u_k \\leq 1, \\quad \\text{with} \\quad (u_k, 1, (a_k^{(0)\\top} y + \\log c_k^{(0)} - \\tau) \\in \\mathcal{K}_{\\exp}\n\\]\n\nWhere:\n\n\\[\n\\mathcal{K}_{\\exp} := \\left\\{ (x, y, z) \\in \\mathbb{R}^3 \\;\\middle|\\; y \u003E 0,\\; y \\cdot e^{x/y} \\leq z \\right\\}\n\\]\n\nAnd each constraint of the form:\n\n\\[\n\\log\\left( \\sum_{k=1}^{K_i} \\exp\\left(a_k^{(i)\\top} y + \\log c_k^{(i)}\\right) \\right) \\leq 0\n\\]\n\ncan be equivalently written as:\n\n\\[\n\\sum_k u_k \\leq 1, \\quad \\text{with} \\quad (u_k, 1, a_k^{(i)\\top} y + \\log c_k^{(i)}) \\in \\mathcal{K}_{\\exp}\n\\]\n\nWhere:\n\n\\[\n\\mathcal{K}_{\\exp} := \\left\\{ (x, y, z) \\in \\mathbb{R}^3 \\;\\middle|\\; y \u003E 0,\\; y \\cdot e^{x/y} \\leq z \\right\\}\n\\]\n\nThis transforms the log-sum-exp constraint into a set of **conic constraints**, using **auxiliary variables** \\( u_k \\) and the **exponential cone**.\n\"\"\"\n)", "code_hash": "b0c983a9dd9e26aa911749c6d5735a98", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "TRpd", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n---\nThen we can apply this transformation to our original model: \n\n$\\quad\\quad\\quad$ Minimize:\n\n$$\nx + y^2 z\n$$\n\n$\\quad\\quad\\quad$ Subject to:\n\n$$\n0.1\\sqrt{x} + 2y^{-1} \\leq 1,\n$$\n\n$$\nz^{-1} + yx^{-2} \\leq 1.\n$$\n\"\"\"\n)", "code_hash": "1803f2a350031b4422fd7428f45f7e6c", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "TXez", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nLet:\n\n\\[\nx = e^u, \\quad y = e^v, \\quad z = e^w\n\\]\n\"\"\"\n)", "code_hash": "81055238071360e52c0f1c8e45a06e88", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "dNNg", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\nThen we can apply the following transformation:\n\n\n$\\quad\\quad\\quad$ Minimize:\n\n\\[\nt\n\\]\n\n$\\quad\\quad\\quad$ Subject to:\n\n\\[\n\\log\\left(e^u + e^{2v + w}\\right) \\leq t\n\\]\n\n\\[\n\\log\\left(0.1e^{u/2} + 2e^{-v}\\right) \\leq 0\n\\]\n\n\\[\n\\log\\left(e^{-w} + e^{v - 2u}\\right) \\leq 0\n\\]\n\"\"\"\n)", "code_hash": "08a222c9f285defb8f06bf2327a0d901", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "yCnT", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n$\\quad\\quad\\quad$ Minimize:\n\n\\[\nt\n\\]\n\n$\\quad\\quad\\quad$ Subject to:\n\n\\[\n(p_1, 1, u - t), \\quad (q_1, 1, 2v + w - t) \\in \\mathcal{K}_{\\exp}, \\quad p_1 + q_1 \\leq 1,\n\\]\n\n\\[\n(p_2, 1, 0.5u + \\log(0.1)), \\quad (q_2, 1, -v + \\log(2)) \\in \\mathcal{K}_{\\exp}, \\quad p_2 + q_2 \\leq 1,\n\\]\n\n\\[\n(p_3, 1, -w), \\quad (q_3, 1, v - 2u) \\in \\mathcal{K}_{\\exp}, \\quad p_3 + q_3 \\leq 1.\n\\]\n\"\"\"\n)", "code_hash": "f15afc7099fd425271666f8c1b5a39d0", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "wlCL", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## 8. Summary of Variable Domains\n\n| Symbol | Meaning | Domain |\n|--------|---------|--------|\n| \\( x \\) | Original decision variables | \\( \\mathbb{R}_{+}^n \\) |\n| \\( y \\) | Log-transformed variables \\( y = \\log x \\) | \\( \\mathbb{R}^n \\) |\n| \\( c_k \\) | Monomial/posynomial coefficients | \\( \\mathbb{R}_{+} \\) |\n| \\( a_k \\) | Monomial exponents | \\( \\mathbb{R}^n \\) |\n| \\( t \\) | Scalar upper bound variable | \\( \\mathbb{R} \\) |\n\"\"\"\n)", "code_hash": "116590f28102e3ef971a1a41dbe12d30", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "kqZH", "name": "_"}, {"code": "mo.md(\n    \"\"\"\n## References\n\nSome of the definitions used in this notebook are taken from the work [A Tutorial on Geometric Programming](https://stanford.edu/~boyd/papers/pdf/gp_tutorial.pdf) by Boyd et al.\n\nYou can also read more about Geometric Programming and the example used in the [MOSEK Modeling Cookbook](https://docs.mosek.com/modeling-cookbook/expo.html#geometric-programming).\n\"\"\"\n)", "code_hash": "ff5f15b06d0a97ac34eff8e1f0263ead", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "wAgl", "name": "_"}, {"code": "mo.md(\"\"\"#Appendix\"\"\")", "code_hash": "13f6614247d865876ded9cf451be25a0", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "rEll", "name": "_"}, {"code": "mo.md(r\"\"\"The class definitions, used functions and model implementation can be examined below.\"\"\")", "code_hash": "9972e8234fada212a4c095f0d7f1cef0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "dGlV", "name": "_"}, {"code": "import numpy as np\nfrom mosek.fusion import Model, Domain, Expr, ObjectiveSense\nimport mosek.fusion.pythonic\n\nclass Monomial:\n    def __init__(self, coefficient=None, indices=None, alphas=None, n=None):\n        self.coefficient = coefficient\n        self.indices = indices\n        self.alphas = [0] * n if n is not None else None\n        if indices is not None and alphas is not None and n is not None:\n            for idx, alpha in zip(indices, alphas):\n                self.alphas[idx] = alpha\n\n    @classmethod\n    def add(cls, coefficient, indices, alphas):\n        obj = cls(coefficient=coefficient, indices=indices, alphas=None)\n        obj.indices_alphas = alphas  # Store original input to reconstruct later\n        return obj\n\n    def defineMonomial(self):\n        terms = []\n        has_coefficient = self.coefficient != 1\n        for i, alpha in enumerate(self.alphas):\n            if alpha != 0:\n                terms.append(f\"(x_{i} ^ {alpha})\")\n\n        joined = \" * \".join([f\"{self.coefficient}\" if has_coefficient else \"\"] + terms if has_coefficient else terms)\n\n        if has_coefficient or len(terms) \u003E 1:\n            return f\"({joined.strip()})\"\n        else:\n            return joined.strip()\n\n    @staticmethod\n    def definePosynomial(monomials):\n        return \" + \".join([m.defineMonomial() for m in monomials])\n\nclass GeometricProgramming:\n    def __init__(self, m, n):\n        self.m = m\n        self.n = n\n        self.constraintsMonomials = [[] for _ in range(m)]\n        self.objectiveMonomials = []\n        self.totalMonomials = 0\n\n    def _fillAlphas(self, monomial):\n        # Check all alphas before assigning\n        for alpha in monomial.indices_alphas:\n            if alpha == 0:\n                raise ValueError(f\"Invalid alpha value {alpha}: all exponents must be non-zero.\")\n\n        # Safe to assign now\n        monomial.alphas = [0] * self.n\n        for idx, alpha in zip(monomial.indices, monomial.indices_alphas):\n            monomial.alphas[idx] = alpha\n\n    def _checkDuplicateIndex(self,monomial):\n        seen = set()\n        for idx in monomial.indices:\n                if idx in seen:\n                    raise ValueError(\"Input indices has to be unique.\")\n                seen.add(idx)\n\n    def addObjective(self, monomial):\n        if isinstance(monomial, list):\n            for m in monomial:\n                self.addObjective(m)\n        else:\n            if monomial.coefficient \u003C= 0:\n                raise ValueError(\"Coefficient must be positive\")\n\n            self._checkDuplicateIndex(monomial)\n            self._fillAlphas(monomial)\n            self.objectiveMonomials.append(monomial)\n            self.totalMonomials += 1\n\n    def addConstraint(self, index, monomial):\n        if index \u003E= self.m:\n            raise ValueError(f\"Constraint index {index} out of range\")\n        if isinstance(monomial, list):\n            for m in monomial:\n                self.addConstraint(index, m)\n        else:\n            if monomial.coefficient \u003C= 0:\n                raise ValueError(\"Coefficient must be positive\")\n\n            self._checkDuplicateIndex(monomial)\n            self._fillAlphas(monomial)\n            self.totalMonomials += 1\n            self.constraintsMonomials[index].append(monomial)\n\n    def evaluateObjective(self, x_values):\n        if len(x_values) != self.n:\n            raise ValueError(f\"x_values length {len(x_values)} does not match problem dimension {self.n}\")\n        objective_val = 0.0\n        for mon in self.objectiveMonomials:\n            term = mon.coefficient\n            for i, alpha in enumerate(mon.alphas):\n                term *= x_values[i] ** alpha\n            objective_val += term\n        return objective_val\n\n    def analyse(self):\n        print(\"--------- Model Analysis ---------\")\n        print(\"# of constraints: \", self.m)\n        print(\"# of variables: \", self.n)\n\n        all_monomials = self.objectiveMonomials + [m for sublist in self.constraintsMonomials for m in sublist]\n        coefficients = [mon.coefficient for mon in all_monomials]\n\n        if coefficients:\n            print(f\"Range of coefficients: [{min(coefficients)}, {max(coefficients)}]\")\n        else:\n            print(\"No monomials added yet.\")\n\n        all_alphas = [abs(alpha) for mon in all_monomials for alpha in mon.alphas if alpha != 0]\n\n        if all_alphas:\n            print(f\"Range of absolute alpha values: [{min(all_alphas)}, {max(all_alphas)}]\")\n        else:\n            print(\"No alpha values found.\")\n\n        print(\"Degree of Difficulty: \", self.totalMonomials - self.n - 1, \"\\n\")\n\n        for i in range(self.n):\n            signs = []\n            for mon in all_monomials:\n                alpha = mon.alphas[i]\n                if alpha \u003E 0:\n                    signs.append(1)\n                elif alpha \u003C 0:\n                    signs.append(-1)\n\n            if signs:\n                if all(s \u003E 0 for s in signs):\n                    print(f\"Warning: Variable x_{i} only has positive exponents across all monomials.\")\n                elif all(s \u003C 0 for s in signs):\n                    print(f\"Warning: Variable x_{i} only has negative exponents across all monomials.\")\n\n    def printModel(self):\n        print(\"Objective function:\")\n        print(f\"\\tMinimize: {Monomial.definePosynomial(self.objectiveMonomials)}\")\n\n        if any(self.constraintsMonomials):\n            print(\"\\nConstraints:\")\n            for i, con in enumerate(self.constraintsMonomials):\n                if con:\n                    print(f\"\\tConstraint {i+1}: {Monomial.definePosynomial(con)} \u003C= 1\")\n        else:\n            print(\"\\nNo constraints defined.\")\n\n        print(\" \")\n\n    def Solve(self, fileName=None):\n\n        if not self.objectiveMonomials:\n            raise ValueError(\"No objective monomials defined.\")\n\n        M = Model()\n        x = M.variable(\"x\", self.n)\n        t = M.variable(\"t\", 1)\n        p = M.variable(\"p\", self.totalMonomials)\n\n        currentMonomialIndex = 0\n\n        # Objective\n        dummySum = []\n        objectiveMonomials = []\n        noOfMono = len(self.objectiveMonomials)\n        j = 0\n\n        if noOfMono \u003E 1:\n            for mon in self.objectiveMonomials:\n                expr = Expr.dot(mon.alphas, x.T) + np.log(mon.coefficient) - t\n                objectiveMonomials.append(expr)\n                dummySum.append(p[currentMonomialIndex + j])\n                j += 1\n            M.constraint(\"Objective Definition\", Expr.hstack(\n                p.slice(currentMonomialIndex, currentMonomialIndex + noOfMono),\n                Expr.ones(noOfMono),\n                Expr.vstack(objectiveMonomials)) == Domain.inPExpCone())\n            M.constraint(\"Objective Dummy Sum\", Expr.sum(Expr.vstack(dummySum)) \u003C= 1)\n        else:\n            M.constraint(\"Objective Definition\", Expr.dot(self.objectiveMonomials[0].alphas, x.T) \u003C= t)\n\n        currentMonomialIndex += noOfMono\n\n        # Constraints (only if defined)\n        for i, monomials in enumerate(self.constraintsMonomials):\n            if not monomials:\n                continue  # Skip empty constraint slots\n\n            noOfMono = len(monomials)\n            constraintMonomials = []\n            dummySum = []\n            j = 0\n            if noOfMono \u003E 1:\n                for mon in monomials:\n                    expr = Expr.dot(mon.alphas, x.T) + np.log(mon.coefficient)\n                    constraintMonomials.append(expr)\n                    dummySum.append(p[currentMonomialIndex + j])\n                    j += 1\n\n                M.constraint(\"Conic-Constraint Definition\" + str(i), Expr.hstack(\n                    p.slice(currentMonomialIndex, currentMonomialIndex + noOfMono),\n                    Expr.ones(noOfMono),\n                    Expr.vstack(constraintMonomials)) == Domain.inPExpCone())\n                M.constraint(\"Constraint Dummy Sum\" + str(i), Expr.sum(Expr.vstack(dummySum)) \u003C= 1)\n            else:\n                M.constraint(\"Constraint Definition\" + str(i), Expr.dot(monomials[0].alphas, x.T) + np.log(monomials[0].coefficient) \u003C= 0)\n\n            currentMonomialIndex += noOfMono\n\n        M.objective(\"Objective Function\", ObjectiveSense.Minimize, t)\n        M.solve()\n\n        if fileName:\n            M.writeTask(fileName + \".ptf\")\n\n        ModelStatus = M.getPrimalSolutionStatus()\n        ProblemStatus = M.getProblemStatus()\n        if ModelStatus == mosek.fusion.pythonic.SolutionStatus.Optimal:\n            sol = x.level()\n            vars = np.exp(sol)\n            print(\"Model Status: Optimal\")\n\n        else:\n            sol = None\n            vars = None\n            print(\"The problem does not have an optimal solution.\")\n            print(\"Problem Status: \", ProblemStatus)\n\n        return sol, vars", "code_hash": "46204e1392ad2c514b8ff6f48061b9bc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SdmI", "name": "_"}, {"code": "mo.md(r\"\"\"\u003Ca rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\"\u003E\u003Cimg alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by/4.0/80x15.png\" /\u003E\u003C/a\u003E\u003Cbr /\u003EThis work is licensed under a \u003Ca rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\"\u003ECreative Commons Attribution 4.0 International License\u003C/a\u003E. The **MOSEK** logo and name are trademarks of \u003Ca href=\"http://mosek.com\"\u003EMosek ApS\u003C/a\u003E. The code is provided as-is. Compatibility with future release of **MOSEK** or the `Fusion API` are not guaranteed. For more information contact our [support](mailto:support@mosek.com).\"\"\")", "code_hash": "1457d7ea0ad46d737c6d62314b6b464a", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "lgWD", "name": "_"}, {"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "yOPj", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "aaba25e4b70049d71cd19942a60da389", "console": [], "id": "Hbol", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cimg alt=\"MOSEK ApS\" src=\"https://www.mosek.com/static/images/branding/webgraphmoseklogocolor.png\" /\u003E\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "421ffe8723bf37ac3b287a380c3882e0", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EA \u003Cem\u003Egeometric program (GP)\u003C/em\u003E is a type of mathematical optimization problem characterized by objective and constraint functions that have a special form. To describe the said special form, one will require the following definitions:\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThe smallest terms creating the GPs are called \u003Cem\u003Emonomials\u003C/em\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "d34aa213fc81c257ae052c633da02158", "console": [], "id": "vblA", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"monomial-functions\"\u003EMonomial functions\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003ELet \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_1, \\dots, x_n ||)\u003C/marimo-tex\u003E denote \u003Cmarimo-tex class=\"arithmatex\"\u003E||( n ||)\u003C/marimo-tex\u003E real positive variables, and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x = (x_1, \\dots, x_n) ||)\u003C/marimo-tex\u003E a vector with components \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_i ||)\u003C/marimo-tex\u003E. A real-valued function \u003Cmarimo-tex class=\"arithmatex\"\u003E||( f ||)\u003C/marimo-tex\u003E of \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x ||)\u003C/marimo-tex\u003E, with the form\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nf(x) = c x_1^{a_1} x_2^{a_2} \\cdots x_n^{a_n}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ewhere \u003Cmarimo-tex class=\"arithmatex\"\u003E||( c \u0026gt; 0 ||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( a_i \\in \\mathbb{R} ||)\u003C/marimo-tex\u003E, is called a \u003Cstrong\u003Emonomial function\u003C/strong\u003E, or more informally, a \u003Cstrong\u003Emonomial\u003C/strong\u003E (of the variables \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_1, \\dots, x_n ||)\u003C/marimo-tex\u003E). We refer to the constant \u003Cmarimo-tex class=\"arithmatex\"\u003E||( c ||)\u003C/marimo-tex\u003E as the \u003Cstrong\u003Ecoefficient\u003C/strong\u003E of the monomial, and we refer to the constants \u003Cmarimo-tex class=\"arithmatex\"\u003E||( a_1, \\dots, a_n ||)\u003C/marimo-tex\u003E as the \u003Cstrong\u003Eexponents\u003C/strong\u003E of the monomial.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EAs an example, \u003Cmarimo-tex class=\"arithmatex\"\u003E||( 2.3 x_1^2 x_2^{-0.15} ||)\u003C/marimo-tex\u003E is a monomial of the variables \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_1 ||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_2 ||)\u003C/marimo-tex\u003E, with coefficient 2.3 and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( x_2 ||)\u003C/marimo-tex\u003E-exponent \u003Cmarimo-tex class=\"arithmatex\"\u003E||( -0.15 ||)\u003C/marimo-tex\u003E.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EAny positive constant is a monomial, as is any variable. Monomials are closed under multiplication and division: if \u003Cmarimo-tex class=\"arithmatex\"\u003E||( f ||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( g ||)\u003C/marimo-tex\u003E are both monomials, then so are \u003Cmarimo-tex class=\"arithmatex\"\u003E||( f * g ||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||( f / g ||)\u003C/marimo-tex\u003E (this includes scaling by any positive constant). A monomial raised to any power is also a monomial:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nf(x)^y = (c x_1^{a_1} x_2^{a_2} \\cdots x_n^{a_n})^y = c^y x_1^{a_1 y} x_2^{a_2 y} \\cdots x_n^{a_n y}\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "4c352c028b49afbd11b39ca11014fdd9", "console": [], "id": "bkHC", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"posynomial-functions\"\u003EPosynomial functions\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EA sum of one or more monomials, i.e., a function of the form\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nf(x) = \\sum_{k=1}^{K} c_k x_1^{a_{1k}} x_2^{a_{2k}} \\cdots x_n^{a_{nk}},\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ewhere \u003Cmarimo-tex class=\"arithmatex\"\u003E||(c_k \u0026gt; 0||)\u003C/marimo-tex\u003E, is called a \u003Cem\u003Eposynomial function\u003C/em\u003E or, more simply, a \u003Cem\u003Eposynomial\u003C/em\u003E (with \u003Cmarimo-tex class=\"arithmatex\"\u003E||(K||)\u003C/marimo-tex\u003E terms, in the variables \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x_1, \\ldots, x_n||)\u003C/marimo-tex\u003E). Any monomial is also a posynomial.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EFor example each of the following terms are monomials (thus also posynomials)\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n0.5{x}{y}, \\quad 2x^2\\sqrt{z}, \\quad xyz\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EAnd the sumation of these monomials is a polynomial.\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n0.5{x}{y} + 2x^2\\sqrt{z} + xyz\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "1149e90abc4773a7112691ebff8906b9", "console": [], "id": "lEQa", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"standard-form-of-a-geometric-program\"\u003EStandard Form of a Geometric Program\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EA \u003Cstrong\u003EGeometric Program (GP)\u003C/strong\u003E is an optimization problem of the following form:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\begin{aligned}\n\\text{minimize} \\quad \u0026amp; f_0(x) \\\\\n\\text{subject to} \\quad \u0026amp; f_i(x) \\leq 1, \\quad i = 1, \\dots, m \\\\\n\u0026amp; x_j \u0026gt; 0, \\quad j = 1, \\dots, n\n\\end{aligned}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EWhere:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( f_0 : \\mathbb{R}_{+}^n \\to \\mathbb{R}_{+} ||)\u003C/marimo-tex\u003E is a \u003Cstrong\u003Eposynomial objective function\u003C/strong\u003E,\u003C/li\u003E\n\u003Cli\u003EEach \u003Cmarimo-tex class=\"arithmatex\"\u003E||( f_i : \\mathbb{R}_{+}^n \\to \\mathbb{R}_+ ||)\u003C/marimo-tex\u003E is a \u003Cstrong\u003Eposynomial inequality constraint\u003C/strong\u003E.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EThe problem is \u003Cstrong\u003Enot convex\u003C/strong\u003E in this form due to the nonlinear structure of monomials and posynomials. However, it can be convexified using a logarithmic transformation and can also be represented in an exponential cone. The next section provides a tool that solves the geometric programs, handling the transformations automatically.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "6612f429506ffdd9e9ca20a9d746243d", "console": [], "id": "PKri", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"geometric-programming-tool\"\u003EGeometric Programming Tool\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EThe tool initializes an optimization model and provides the following core functions for model construction and analysis:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003EprintModel()\u003C/code\u003E\u003C/strong\u003E \u2014 Outputs the current model structure in a readable format.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003EaddObjective(Monomial)\u003C/code\u003E\u003C/strong\u003E \u2014 Defines and adds the objective function to the model.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003EaddConstraint(List of Monomials)\u003C/code\u003E\u003C/strong\u003E \u2014 Adds one or more constraints to the model formulation.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003ESolve()\u003C/code\u003E\u003C/strong\u003E \u2014 Solves the model once all components (objective and constraints) are defined.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003Eanalyse()\u003C/code\u003E\u003C/strong\u003E \u2014 Prints key specifications and diagnostics of the model.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003EevaluateObjective()\u003C/code\u003E\u003C/strong\u003E \u2014 Computes the value of the objective function for the obtained solution.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EThe class and function definitions, as well as the model implementation, can be found in the Appendix.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWith only using these functionalities, one can solve a geometric program without further implementation. Let's go over an example. Say we model the following problem:\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Minimize:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nx + y^2 z\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Subject to:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n0.1\\sqrt{x} + 2y^{-1} \\leq 1,\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nz^{-1} + yx^{-2} \\leq 1.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003ETo initialize a geometric program, call the \u003Cem\u003EGeometricProgramming(m,n)\u003C/em\u003E class, with inputs m = number of constraint, n = number of variables.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "d3a987364a882d27052171a30276e774", "console": [], "id": "Xref", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "43c553ef4765d9da6d1731ec31950a86", "console": [], "id": "SFPL", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe objective function in a geometric program is, by definition, minimized. The \u003Ccode\u003EaddObjective([Monomial, ...])\u003C/code\u003E function accepts either a single \u003Ccode\u003EMonomial\u003C/code\u003E object or a list of \u003Ccode\u003EMonomial\u003C/code\u003E objects as input.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EA \u003Ccode\u003EMonomial\u003C/code\u003E object can be constructed using the following method:\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Ccode\u003EMonomial.add(coefficient, indices, alphas)\u003C/code\u003E\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003Ecoefficient\u003C/code\u003E\u003C/strong\u003E: \u003Cmarimo-tex class=\"arithmatex\"\u003E||(c||)\u003C/marimo-tex\u003E, a positive scalar\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003Eindices\u003C/code\u003E\u003C/strong\u003E: an array of selected variable indices \u003Cmarimo-tex class=\"arithmatex\"\u003E||(i  \\in \\{1, \\dots, N\\}||)\u003C/marimo-tex\u003E\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cem\u003EExample\u003C/em\u003E: To add a monomial involving \u003Cmarimo-tex class=\"arithmatex\"\u003E||(y||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||(z||)\u003C/marimo-tex\u003E from the list \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x, y, z, w||)\u003C/marimo-tex\u003E, input \u003Ccode\u003Eindices = [1,2]\u003C/code\u003E\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ccode\u003Ealphas\u003C/code\u003E\u003C/strong\u003E: an array of exponents \u003Cmarimo-tex class=\"arithmatex\"\u003E||(a_i||)\u003C/marimo-tex\u003E corresponding to each selected variable\u003C/li\u003E\n\u003C/ul\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "4e9beadcc26bebef47541fa0c548362c", "console": [], "id": "BYtC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "868b3464d8e9e49ec0a04c93232ea5a1", "console": [], "id": "RGSE", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EBy definition, all constraint posynomials in a geometric program must be less than or equal to 1. Similar to the objective function, constraints can be added using the \u003Ccode\u003EaddConstraint(constraintIndex, [Monomial, ...])\u003C/code\u003E function.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThis function accepts a constraint index and either a single \u003Ccode\u003EMonomial\u003C/code\u003E object or a list of \u003Ccode\u003EMonomial\u003C/code\u003E objects as input. Monomials can be added individually or collectively in a single call.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "13c790adfdbd7dd1916d8ec9feddd6ba", "console": [], "id": "Kclp", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "32a60dbe030f26999ecdbdfab84fd13d", "console": [], "id": "emfo", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe \u003Ccode\u003EprintModel()\u003C/code\u003E function provides a convenient way to display the current model, including the objective function and all defined constraints, in a readable format.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "38ac3127fb3c733d69420718b7b6b90e", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective function:\n\tMinimize: (x_0 ^ 1) + ((x_1 ^ 2) * (x_2 ^ 1))\n\nConstraints:\n\tConstraint 1: (0.1 * (x_0 ^ 0.5)) + (2 * (x_1 ^ -1)) \u003C= 1\n\tConstraint 2: (x_2 ^ -1) + ((x_0 ^ -2) * (x_1 ^ 1)) \u003C= 1\n \n", "type": "stream"}], "id": "Hstk", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "e365f5dee6caa910148091b12e4814c4", "console": [], "id": "nWHF", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EOnce the entire model has been defined, the problem can be solved using the \u003Ccode\u003ESolve()\u003C/code\u003E function. This function returns both the solution object and the values of the decision variables. If needed, the user can further interact with the solution object for additional information.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EUsing the retrieved decision variable values, the user can also compute the objective function value.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8701442421ad87efa5b2588cf0b729f6", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Model Status: Optimal\n", "type": "stream"}], "id": "iLit", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4c6eb053dcb1926e1d1348e62d4eda73", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe objective function value can be calculated using the \u003Ccode\u003EevaluateObjective(variables)\u003C/code\u003E function, based on the decision variable values obtained from the solution.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "9e51ad70266de5148d19723cfa483639", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective value: 10.981643\nOptimal values of (x_i):\nx_0 = 3.144574\nx_1 = 2.431107\nx_2 = 1.326006\n", "type": "stream"}], "id": "ROlb", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3c8e6303394f4c1fe14bbe2a1da81182", "console": [], "id": "qnkX", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"analyser\"\u003EAnalyser\u003C/h3\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "3134234ae38d08b23c97fc88f0398840", "console": [], "id": "TqIu", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EWriting well-structured geometric programs can sometimes be a non-trivial task. To assist with this, the analyse() function is included in the tool. This function provides a comprehensive summary and diagnostic of the model, helping users identify potential issues before solving.\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003EConstraints and Variables\u003C/strong\u003E: Prints the total number of constraints and decision variables.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EMonomial Coefficients\u003C/strong\u003E: Shows the range of monomial coefficients (min\u2013max), if any are added.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EAlpha Values\u003C/strong\u003E: Displays the range of non-zero absolute exponent values (alphas).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EDegree of Difficulty\u003C/strong\u003E: \u003Ccode\u003EtotalMonomials - number of variables - 1\u003C/code\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EVariable Sign Check\u003C/strong\u003E: Issues warnings if a variable appears only with positive or only with negative exponents in all monomials, which helps identify potential modeling issues.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cins\u003EVariable Sign Check\u003C/ins\u003E is a critical part of the model analysis, as it determines the potential solvability issues of the geometric program and can often be overlooked.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EIf, for a decision variable, all the defined alpha values (exponents) have the same sign\u2014either all positive or all negative\u2014this may indicate a structural issue in the model that could hinder its solvability. When such a problem is encountered, the analyser function can help the user to identify the problem.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ELet's look at an example that illustrates this issue. Firstly the model below displays an example where the decision variable \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x||)\u003C/marimo-tex\u003E combines both positive and negative alpha values. Therefore, MOSEK can retrieve the optimal solution easily.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "c3ae98a961f885a45d35d90308d59f8b", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective function:\n\tMinimize: (x_0 ^ 2) + (x_0 ^ -3)\n\nNo constraints defined.\n \nModel Status: Optimal\n", "type": "stream"}], "id": "Vxnm", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3554f12c0fd8d51f97a83137f44e47fc", "console": [], "id": "DnEU", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EAs seen below, the analyse function does not warn the user, only presents the characteristics of the model.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ad4a377c6549ac0bf5bb57327730414f", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "--------- Model Analysis ---------\n# of constraints:  0\n# of variables:  1\nRange of coefficients: [1, 1]\nRange of absolute alpha values: [2.0, 3.0]\nDegree of Difficulty:  0 \n\n", "type": "stream"}], "id": "ulZA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "717c381bd84c6954eb81d9ebe8563373", "console": [], "id": "ecfG", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EIn the modified model below, the second monomial is discarded leaving the decision variable \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x||)\u003C/marimo-tex\u003E only with a positive alpha value. Therefore, the \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x||)\u003C/marimo-tex\u003E value will converge to \u003Cem\u003Ezero\u003C/em\u003E while being strictly bigger then \u003Cem\u003Ezero\u003C/em\u003E, resulting in the absence of an optimal solution.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "c8e9162de7a9cf66102702513d75af9d", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective function:\n\tMinimize: (x_0 ^ 2)\n\nNo constraints defined.\n \nThe problem does not have an optimal solution.\nProblem Status:  ProblemStatus.DualInfeasible\n", "type": "stream"}], "id": "Pvdt", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3566fe65968b93289197585967710c3e", "console": [], "id": "ZBYS", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EDue to the described problem, the analyser warns the user about the weakness of the model.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "23bc34730f76f5a9b2fe765c07b33f0e", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "--------- Model Analysis ---------\n# of constraints:  0\n# of variables:  1\nRange of coefficients: [1, 1]\nRange of absolute alpha values: [2.0, 2.0]\nDegree of Difficulty:  -1 \n\nWarning: Variable x_0 only has positive exponents across all monomials.\n", "type": "stream"}], "id": "aLJB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9c83be7e3622f407b71b390ae74e515c", "console": [], "id": "nHfw", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ESimilarly to the example before, if the decision variable \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x||)\u003C/marimo-tex\u003E is only left with a negative alpha value we will encounter infeasibility again. It can be easily seen that decision variable \u003Cmarimo-tex class=\"arithmatex\"\u003E||(x||)\u003C/marimo-tex\u003E will converge to infinity, making the problem unbounded. When called, the analyser again warns the user about the mentioned property.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "2d9d6950784262442894162830fb6eda", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective function:\n\tMinimize: (x_0 ^ -3)\n\nNo constraints defined.\n \nThe problem does not have an optimal solution.\nProblem Status:  ProblemStatus.DualInfeasible\n--------- Model Analysis ---------\n# of constraints:  0\n# of variables:  1\nRange of coefficients: [1, 1]\nRange of absolute alpha values: [3.0, 3.0]\nDegree of Difficulty:  -1 \n\nWarning: Variable x_0 only has negative exponents across all monomials.\n", "type": "stream"}], "id": "xXTn", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "83c9c33eb1cf4f8fe584596fbe34483b", "console": [], "id": "AjVT", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EAlthough this property can sometimes prevent a model from being solvable, there are cases where it can still be handled correctly. The following example presents a model with two decision variables, one of which appears only with positive exponents. In this case, due to the structure of the feasible region, an optimal solution exists.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ENevertheless, this property should be treated as a potential risk and considered a diagnostic checkpoint, especially if the model fails. It can be flagged using the analyser function for early detection.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "2b33077ddf370c1b394c1c8c96e2269e", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "Objective function:\n\tMinimize: (x_0 ^ 2) + (x_1 ^ -1)\n\nConstraints:\n\tConstraint 1: (x_0 ^ 1) + (x_1 ^ 1) \u003C= 1\n \nModel Status: Optimal\n--------- Model Analysis ---------\n# of constraints:  1\n# of variables:  2\nRange of coefficients: [1, 1]\nRange of absolute alpha values: [1.0, 2.0]\nDegree of Difficulty:  1 \n\nWarning: Variable x_0 only has positive exponents across all monomials.\n", "type": "stream"}], "id": "pHFh", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "5eb4e8ed6673f826caf0060ef8953584", "console": [], "id": "NCOB", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"further-details\"\u003EFurther Details\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EAs explained earlier, the problem is non-convex. To solve the problem, the following transformation from the non-convex form to an exponential cone representation can be applied, which is already handled by the geometric programming class.\u003C/span\u003E\n\u003Ch3 id=\"logarithmic-transformation-convexification\"\u003ELogarithmic Transformation (Convexification)\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003ETo reformulate a GP as a \u003Cstrong\u003Econvex problem\u003C/strong\u003E, we apply a change of variables:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nx_j = e^{y_j} \\quad \\text{for } j = 1, \\dots, n\n\\quad \\Rightarrow \\quad x = e^y, \\quad y \\in \\mathbb{R}^n\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EA \u003Cstrong\u003Emonomial\u003C/strong\u003E becomes:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nf(x) = c \\cdot e^{a^T y} \\quad \\Rightarrow \\quad \\log f(x) = \\log c + a^T y\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EA \u003Cstrong\u003Eposynomial\u003C/strong\u003E becomes:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nf(x) = \\sum_{k=1}^K c_k \\cdot e^{a_k^T y} \\quad \\Rightarrow \\quad \\log f(x) = \\log \\left( \\sum_{k=1}^K \\exp(a_k^T y + \\log c_k) \\right)\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThis is known as the \u003Cstrong\u003Elog-sum-exp function\u003C/strong\u003E, which is a \u003Cstrong\u003Econvex\u003C/strong\u003E function of \u003Cmarimo-tex class=\"arithmatex\"\u003E||( y \\in \\mathbb{R}^n ||)\u003C/marimo-tex\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "4bf851a32dfbf880d93600bddce92174", "console": [], "id": "aqbW", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"convex-reformulation\"\u003EConvex Reformulation\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EThe original GP is now transformed into the following \u003Cstrong\u003Econvex optimization problem\u003C/strong\u003E:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\begin{aligned}\n\\text{minimize} \\quad \u0026amp; t \\\\\n\\text{subject to} \\quad \u0026amp; \\log\\left( \\sum_{k=1}^{K_0} \\exp(a_k^{(0)\\top} y + \\log c_k^{(0)}) \\right) \\leq t \\\\\n\u0026amp; \\log\\left( \\sum_{k=1}^{K_i} \\exp(a_k^{(i)\\top} y + \\log c_k^{(i)}) \\right) \\leq 0, \\quad i = 1, \\dots, m\n\\end{aligned}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EWhere \u003Cmarimo-tex class=\"arithmatex\"\u003E||( t \\in \\mathbb{R} ||)\u003C/marimo-tex\u003E is a \u003Cstrong\u003Escalar upper bound variable\u003C/strong\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b0c983a9dd9e26aa911749c6d5735a98", "console": [], "id": "TRpd", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"exponential-cone-representation\"\u003EExponential Cone Representation\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EThe objective function constraint of the form:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\log\\left( \\sum_{k=1}^{K_0} \\exp(a_k^{(0)\\top} y + \\log c_k^{(0)}) \\right) \\leq t\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ecan be equivalently written as:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\sum_{k} u_k \\leq 1, \\quad \\text{with} \\quad (u_k, 1, (a_k^{(0)\\top} y + \\log c_k^{(0)} - \\tau) \\in \\mathcal{K}_{\\exp}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EWhere:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\mathcal{K}_{\\exp} := \\left\\{ (x, y, z) \\in \\mathbb{R}^3 \\;\\middle|\\; y \u0026gt; 0,\\; y \\cdot e^{x/y} \\leq z \\right\\}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EAnd each constraint of the form:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\log\\left( \\sum_{k=1}^{K_i} \\exp\\left(a_k^{(i)\\top} y + \\log c_k^{(i)}\\right) \\right) \\leq 0\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ecan be equivalently written as:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\sum_k u_k \\leq 1, \\quad \\text{with} \\quad (u_k, 1, a_k^{(i)\\top} y + \\log c_k^{(i)}) \\in \\mathcal{K}_{\\exp}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EWhere:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\mathcal{K}_{\\exp} := \\left\\{ (x, y, z) \\in \\mathbb{R}^3 \\;\\middle|\\; y \u0026gt; 0,\\; y \\cdot e^{x/y} \\leq z \\right\\}\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThis transforms the log-sum-exp constraint into a set of \u003Cstrong\u003Econic constraints\u003C/strong\u003E, using \u003Cstrong\u003Eauxiliary variables\u003C/strong\u003E \u003Cmarimo-tex class=\"arithmatex\"\u003E||( u_k ||)\u003C/marimo-tex\u003E and the \u003Cstrong\u003Eexponential cone\u003C/strong\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "1803f2a350031b4422fd7428f45f7e6c", "console": [], "id": "TXez", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Cspan class=\"paragraph\"\u003EThen we can apply this transformation to our original model:\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Minimize:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nx + y^2 z\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Subject to:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n0.1\\sqrt{x} + 2y^{-1} \\leq 1,\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nz^{-1} + yx^{-2} \\leq 1.\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "81055238071360e52c0f1c8e45a06e88", "console": [], "id": "dNNg", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ELet:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nx = e^u, \\quad y = e^v, \\quad z = e^w\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "08a222c9f285defb8f06bf2327a0d901", "console": [], "id": "yCnT", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThen we can apply the following transformation:\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Minimize:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nt\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Subject to:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\log\\left(e^u + e^{2v + w}\\right) \\leq t\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\log\\left(0.1e^{u/2} + 2e^{-v}\\right) \\leq 0\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\log\\left(e^{-w} + e^{v - 2u}\\right) \\leq 0\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "f15afc7099fd425271666f8c1b5a39d0", "console": [], "id": "wlCL", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Minimize:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nt\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\quad\\quad\\quad||)\u003C/marimo-tex\u003E Subject to:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n(p_1, 1, u - t), \\quad (q_1, 1, 2v + w - t) \\in \\mathcal{K}_{\\exp}, \\quad p_1 + q_1 \\leq 1,\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n(p_2, 1, 0.5u + \\log(0.1)), \\quad (q_2, 1, -v + \\log(2)) \\in \\mathcal{K}_{\\exp}, \\quad p_2 + q_2 \\leq 1,\n||]\u003C/marimo-tex\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n(p_3, 1, -w), \\quad (q_3, 1, v - 2u) \\in \\mathcal{K}_{\\exp}, \\quad p_3 + q_3 \\leq 1.\n||]\u003C/marimo-tex\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "116590f28102e3ef971a1a41dbe12d30", "console": [], "id": "kqZH", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"8-summary-of-variable-domains\"\u003E8. Summary of Variable Domains\u003C/h2\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003ESymbol\u003C/th\u003E\n\u003Cth\u003EMeaning\u003C/th\u003E\n\u003Cth\u003EDomain\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( x ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003EOriginal decision variables\u003C/td\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\mathbb{R}_{+}^n ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( y ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003ELog-transformed variables \u003Cmarimo-tex class=\"arithmatex\"\u003E||( y = \\log x ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\mathbb{R}^n ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( c_k ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003EMonomial/posynomial coefficients\u003C/td\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\mathbb{R}_{+} ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( a_k ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003EMonomial exponents\u003C/td\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\mathbb{R}^n ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( t ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003Ctd\u003EScalar upper bound variable\u003C/td\u003E\n\u003Ctd\u003E\u003Cmarimo-tex class=\"arithmatex\"\u003E||( \\mathbb{R} ||)\u003C/marimo-tex\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ff5f15b06d0a97ac34eff8e1f0263ead", "console": [], "id": "wAgl", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"references\"\u003EReferences\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003ESome of the definitions used in this notebook are taken from the work \u003Ca href=\"https://stanford.edu/~boyd/papers/pdf/gp_tutorial.pdf\" rel=\"noopener noreferrer\" target=\"_blank\"\u003EA Tutorial on Geometric Programming\u003C/a\u003E by Boyd et al.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EYou can also read more about Geometric Programming and the example used in the \u003Ca href=\"https://docs.mosek.com/modeling-cookbook/expo.html#geometric-programming\" rel=\"noopener noreferrer\" target=\"_blank\"\u003EMOSEK Modeling Cookbook\u003C/a\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "13f6614247d865876ded9cf451be25a0", "console": [], "id": "rEll", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"appendix\"\u003EAppendix\u003C/h1\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "9972e8234fada212a4c095f0d7f1cef0", "console": [], "id": "dGlV", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe class definitions, used functions and model implementation can be examined below.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "46204e1392ad2c514b8ff6f48061b9bc", "console": [], "id": "SdmI", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "1457d7ea0ad46d737c6d62314b6b464a", "console": [], "id": "lgWD", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ca rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\"\u003E\u003Cimg alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by/4.0/80x15.png\" /\u003E\u003C/a\u003E\u003Cbr /\u003EThis work is licensed under a \u003Ca rel=\"license\" href=\"http://creativecommons.org/licenses/by/4.0/\"\u003ECreative Commons Attribution 4.0 International License\u003C/a\u003E. The \u003Cstrong\u003EMOSEK\u003C/strong\u003E logo and name are trademarks of \u003Ca href=\"http://mosek.com\"\u003EMosek ApS\u003C/a\u003E. The code is provided as-is. Compatibility with future release of \u003Cstrong\u003EMOSEK\u003C/strong\u003E or the \u003Ccode\u003EFusion API\u003C/code\u003E are not guaranteed. For more information contact our \u003Ca href=\"mailto:support@mosek.com\"\u003Esupport\u003C/a\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "yOPj", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20!%5BMOSEK%20ApS%5D(https%3A%2F%2Fwww.mosek.com%2Fstatic%2Fimages%2Fbranding%2Fwebgraphmoseklogocolor.png%20)%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20A%20*geometric%20program%20(GP)*%20is%20a%20type%20of%20mathematical%20optimization%20problem%20characterized%20by%20objective%20and%20constraint%20functions%20that%20have%20a%20special%20form.%20To%20describe%20the%20said%20special%20form%2C%20one%20will%20require%20the%20following%20definitions%3A%0A%0A%20%20%20%20The%20smallest%20terms%20creating%20the%20GPs%20are%20called%20*monomials*.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Monomial%20functions%0A%0A%20%20%20%20Let%20%5C(%20x_1%2C%20%5Cdots%2C%20x_n%20%5C)%20denote%20%5C(%20n%20%5C)%20real%20positive%20variables%2C%20and%20%5C(%20x%20%3D%20(x_1%2C%20%5Cdots%2C%20x_n)%20%5C)%20a%20vector%20with%20components%20%5C(%20x_i%20%5C).%20A%20real-valued%20function%20%5C(%20f%20%5C)%20of%20%5C(%20x%20%5C)%2C%20with%20the%20form%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20f(x)%20%3D%20c%20x_1%5E%7Ba_1%7D%20x_2%5E%7Ba_2%7D%20%5Ccdots%20x_n%5E%7Ba_n%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20where%20%5C(%20c%20%3E%200%20%5C)%20and%20%5C(%20a_i%20%5Cin%20%5Cmathbb%7BR%7D%20%5C)%2C%20is%20called%20a%20**monomial%20function**%2C%20or%20more%20informally%2C%20a%20**monomial**%20(of%20the%20variables%20%5C(%20x_1%2C%20%5Cdots%2C%20x_n%20%5C)).%20We%20refer%20to%20the%20constant%20%5C(%20c%20%5C)%20as%20the%20**coefficient**%20of%20the%20monomial%2C%20and%20we%20refer%20to%20the%20constants%20%5C(%20a_1%2C%20%5Cdots%2C%20a_n%20%5C)%20as%20the%20**exponents**%20of%20the%20monomial.%0A%0A%20%20%20%20As%20an%20example%2C%20%5C(%202.3%20x_1%5E2%20x_2%5E%7B-0.15%7D%20%5C)%20is%20a%20monomial%20of%20the%20variables%20%5C(%20x_1%20%5C)%20and%20%5C(%20x_2%20%5C)%2C%20with%20coefficient%202.3%20and%20%5C(%20x_2%20%5C)-exponent%20%5C(%20-0.15%20%5C).%0A%0A%20%20%20%20Any%20positive%20constant%20is%20a%20monomial%2C%20as%20is%20any%20variable.%20Monomials%20are%20closed%20under%20multiplication%20and%20division%3A%20if%20%5C(%20f%20%5C)%20and%20%5C(%20g%20%5C)%20are%20both%20monomials%2C%20then%20so%20are%20%5C(%20f%20*%20g%20%5C)%20and%20%5C(%20f%20%2F%20g%20%5C)%20(this%20includes%20scaling%20by%20any%20positive%20constant).%20A%20monomial%20raised%20to%20any%20power%20is%20also%20a%20monomial%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20f(x)%5Ey%20%3D%20(c%20x_1%5E%7Ba_1%7D%20x_2%5E%7Ba_2%7D%20%5Ccdots%20x_n%5E%7Ba_n%7D)%5Ey%20%3D%20c%5Ey%20x_1%5E%7Ba_1%20y%7D%20x_2%5E%7Ba_2%20y%7D%20%5Ccdots%20x_n%5E%7Ba_n%20y%7D%0A%20%20%20%20%5C%5D%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Posynomial%20functions%0A%0A%20%20%20%20A%20sum%20of%20one%20or%20more%20monomials%2C%20i.e.%2C%20a%20function%20of%20the%20form%0A%0A%20%20%20%20%24%24%0A%20%20%20%20f(x)%20%3D%20%5Csum_%7Bk%3D1%7D%5E%7BK%7D%20c_k%20x_1%5E%7Ba_%7B1k%7D%7D%20x_2%5E%7Ba_%7B2k%7D%7D%20%5Ccdots%20x_n%5E%7Ba_%7Bnk%7D%7D%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20where%20%24c_k%20%3E%200%24%2C%20is%20called%20a%20*posynomial%20function*%20or%2C%20more%20simply%2C%20a%20*posynomial*%20(with%20%24K%24%20terms%2C%20in%20the%20variables%20%24x_1%2C%20%5Cldots%2C%20x_n%24).%20Any%20monomial%20is%20also%20a%20posynomial.%0A%0A%20%20%20%20For%20example%20each%20of%20the%20following%20terms%20are%20monomials%20(thus%20also%20posynomials)%0A%0A%20%20%20%20%24%24%0A%20%20%20%200.5%7Bx%7D%7By%7D%2C%20%5Cquad%202x%5E2%5Csqrt%7Bz%7D%2C%20%5Cquad%20xyz%0A%20%20%20%20%24%24%0A%0A%20%20%20%20And%20the%20sumation%20of%20these%20monomials%20is%20a%20polynomial.%0A%0A%20%20%20%20%24%24%0A%20%20%20%200.5%7Bx%7D%7By%7D%20%2B%202x%5E2%5Csqrt%7Bz%7D%20%2B%20xyz%0A%20%20%20%20%24%24%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Standard%20Form%20of%20a%20Geometric%20Program%0A%0A%20%20%20%20A%20**Geometric%20Program%20(GP)**%20is%20an%20optimization%20problem%20of%20the%20following%20form%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Ctext%7Bminimize%7D%20%5Cquad%20%26%20f_0(x)%20%5C%5C%0A%20%20%20%20%5Ctext%7Bsubject%20to%7D%20%5Cquad%20%26%20f_i(x)%20%5Cleq%201%2C%20%5Cquad%20i%20%3D%201%2C%20%5Cdots%2C%20m%20%5C%5C%0A%20%20%20%20%26%20x_j%20%3E%200%2C%20%5Cquad%20j%20%3D%201%2C%20%5Cdots%2C%20n%0A%20%20%20%20%5Cend%7Baligned%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Where%3A%0A%0A%20%20%20%20-%20%5C(%20f_0%20%3A%20%5Cmathbb%7BR%7D_%7B%2B%7D%5En%20%5Cto%20%5Cmathbb%7BR%7D_%7B%2B%7D%20%5C)%20is%20a%20**posynomial%20objective%20function**%2C%0A%20%20%20%20-%20Each%20%5C(%20f_i%20%3A%20%5Cmathbb%7BR%7D_%7B%2B%7D%5En%20%5Cto%20%5Cmathbb%7BR%7D_%2B%20%5C)%20is%20a%20**posynomial%20inequality%20constraint**.%0A%0A%20%20%20%20The%20problem%20is%20**not%20convex**%20in%20this%20form%20due%20to%20the%20nonlinear%20structure%20of%20monomials%20and%20posynomials.%20However%2C%20it%20can%20be%20convexified%20using%20a%20logarithmic%20transformation%20and%20can%20also%20be%20represented%20in%20an%20exponential%20cone.%20The%20next%20section%20provides%20a%20tool%20that%20solves%20the%20geometric%20programs%2C%20handling%20the%20transformations%20automatically.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Geometric%20Programming%20Tool%0A%0A%20%20%20%20The%20tool%20initializes%20an%20optimization%20model%20and%20provides%20the%20following%20core%20functions%20for%20model%20construction%20and%20analysis%3A%0A%0A%20%20%20%20-%20**%60printModel()%60**%20%E2%80%94%20Outputs%20the%20current%20model%20structure%20in%20a%20readable%20format.%0A%20%20%20%20-%20**%60addObjective(Monomial)%60**%20%E2%80%94%20Defines%20and%20adds%20the%20objective%20function%20to%20the%20model.%0A%20%20%20%20-%20**%60addConstraint(List%20of%20Monomials)%60**%20%E2%80%94%20Adds%20one%20or%20more%20constraints%20to%20the%20model%20formulation.%0A%20%20%20%20-%20**%60Solve()%60**%20%E2%80%94%20Solves%20the%20model%20once%20all%20components%20(objective%20and%20constraints)%20are%20defined.%0A%20%20%20%20-%20**%60analyse()%60**%20%E2%80%94%20Prints%20key%20specifications%20and%20diagnostics%20of%20the%20model.%0A%20%20%20%20-%20**%60evaluateObjective()%60**%20%E2%80%94%20Computes%20the%20value%20of%20the%20objective%20function%20for%20the%20obtained%20solution.%0A%0A%20%20%20%20The%20class%20and%20function%20definitions%2C%20as%20well%20as%20the%20model%20implementation%2C%20can%20be%20found%20in%20the%20Appendix.%0A%0A%20%20%20%20With%20only%20using%20these%20functionalities%2C%20one%20can%20solve%20a%20geometric%20program%20without%20further%20implementation.%20Let's%20go%20over%20an%20example.%20Say%20we%20model%20the%20following%20problem%3A%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Minimize%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20x%20%2B%20y%5E2%20z%0A%20%20%20%20%24%24%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Subject%20to%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%200.1%5Csqrt%7Bx%7D%20%2B%202y%5E%7B-1%7D%20%5Cleq%201%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20%24%24%0A%20%20%20%20z%5E%7B-1%7D%20%2B%20yx%5E%7B-2%7D%20%5Cleq%201.%0A%20%20%20%20%24%24%0A%0A%0A%20%20%20%20To%20initialize%20a%20geometric%20program%2C%20call%20the%20*GeometricProgramming(m%2Cn)*%20class%2C%20with%20inputs%20m%20%3D%20number%20of%20constraint%2C%20n%20%3D%20number%20of%20variables.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(GeometricProgramming)%3A%0A%20%20%20%20gp%20%3D%20GeometricProgramming(2%2C%203)%20%23%20m%2Cn%20%3D%20(%23)%20of%20constraints%2C%20(%23)%20of%20variables%0A%20%20%20%20return%20(gp%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20The%20objective%20function%20in%20a%20geometric%20program%20is%2C%20by%20definition%2C%20minimized.%20The%20%60addObjective(%5BMonomial%2C%20...%5D)%60%20function%20accepts%20either%20a%20single%20%60Monomial%60%20object%20or%20a%20list%20of%20%60Monomial%60%20objects%20as%20input.%0A%0A%20%20%20%20A%20%60Monomial%60%20object%20can%20be%20constructed%20using%20the%20following%20method%3A%0A%0A%20%20%20%20%60Monomial.add(coefficient%2C%20indices%2C%20alphas)%60%0A%0A%20%20%20%20-%20**%60coefficient%60**%3A%20%24c%24%2C%20a%20positive%20scalar%0A%20%20%20%20-%20**%60indices%60**%3A%20an%20array%20of%20selected%20variable%20indices%20%24i%20%20%5Cin%20%5C%7B1%2C%20%5Cdots%2C%20N%5C%7D%24%0A%0A%20%20%20%20%20%20_Example_%3A%20To%20add%20a%20monomial%20involving%20%24y%24%20and%20%24z%24%20from%20the%20list%20%24x%2C%20y%2C%20z%2C%20w%24%2C%20input%20%60indices%20%3D%20%5B1%2C2%5D%60%0A%20%20%20%20-%20**%60alphas%60**%3A%20an%20array%20of%20exponents%20%24a_i%24%20corresponding%20to%20each%20selected%20variable%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Monomial%2C%20gp)%3A%0A%20%20%20%20gp.addObjective(%5B%0A%20%20%20%20%20%20%20%20Monomial.add(1%2C%20%5B0%5D%2C%20%5B1%5D)%2C%20%23%20x%0A%20%20%20%20%20%20%20%20Monomial.add(1%2C%20%5B1%2C2%5D%2C%20%5B2%2C1%5D)%20%23%20y%5E2%20*%20z%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20By%20definition%2C%20all%20constraint%20posynomials%20in%20a%20geometric%20program%20must%20be%20less%20than%20or%20equal%20to%201.%20Similar%20to%20the%20objective%20function%2C%20constraints%20can%20be%20added%20using%20the%20%60addConstraint(constraintIndex%2C%20%5BMonomial%2C%20...%5D)%60%20function.%0A%0A%20%20%20%20This%20function%20accepts%20a%20constraint%20index%20and%20either%20a%20single%20%60Monomial%60%20object%20or%20a%20list%20of%20%60Monomial%60%20objects%20as%20input.%20Monomials%20can%20be%20added%20individually%20or%20collectively%20in%20a%20single%20call.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Monomial%2C%20gp)%3A%0A%20%20%20%20%23First%20Constraint%2C%20%3C%3D%201%0A%20%20%20%20gp.addConstraint(0%2C%20%5B%0A%20%20%20%20%20%20%20%20Monomial.add(0.1%2C%20%5B0%5D%2C%20%5B0.5%5D)%2C%20%23%200.1%20*%20x%5E(0.5)%0A%20%20%20%20%20%20%20%20Monomial.add(2%2C%20%5B1%5D%2C%20%5B-1%5D)%20%23%202%20*%20y%5E-1%0A%20%20%20%20%5D)%0A%0A%20%20%20%20%23Second%20Constraint%20-%20First%20Monomial%20%0A%20%20%20%20gp.addConstraint(1%2C%20Monomial.add(1%2C%20%5B2%5D%2C%20%5B-1%5D))%20%23%20z%5E-1%0A%0A%20%20%20%20%23Second%20Constraint%20-%20Second%20Monomial%2C%20%3C%3D%201%0A%20%20%20%20gp.addConstraint(1%2C%20Monomial.add(1%2C%20%5B0%2C1%5D%2C%20%5B-2%2C1%5D))%20%23x%5E-2%20*%20y%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20The%20%60printModel()%60%20function%20provides%20a%20convenient%20way%20to%20display%20the%20current%20model%2C%20including%20the%20objective%20function%20and%20all%20defined%20constraints%2C%20in%20a%20readable%20format.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(gp)%3A%0A%20%20%20%20gp.printModel()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20Once%20the%20entire%20model%20has%20been%20defined%2C%20the%20problem%20can%20be%20solved%20using%20the%20%60Solve()%60%20function.%20This%20function%20returns%20both%20the%20solution%20object%20and%20the%20values%20of%20the%20decision%20variables.%20If%20needed%2C%20the%20user%20can%20further%20interact%20with%20the%20solution%20object%20for%20additional%20information.%0A%0A%20%20%20%20Using%20the%20retrieved%20decision%20variable%20values%2C%20the%20user%20can%20also%20compute%20the%20objective%20function%20value.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(gp)%3A%0A%20%20%20%20sol%2C%20variables%20%3D%20gp.Solve()%20%23solve%20the%20model%0A%20%20%20%20return%20sol%2C%20variables%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20The%20objective%20function%20value%20can%20be%20calculated%20using%20the%20%60evaluateObjective(variables)%60%20function%2C%20based%20on%20the%20decision%20variable%20values%20obtained%20from%20the%20solution.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(gp%2C%20np%2C%20sol%2C%20variables)%3A%0A%20%20%20%20obj_val%20%3D%20gp.evaluateObjective(variables)%20%23Calculate%20the%20objective%20value%0A%20%20%20%20print(f%22Objective%20value%3A%20%7Bobj_val%3A.6f%7D%22)%0A%0A%20%20%20%20print(%22Optimal%20values%20of%20(x_i)%3A%22)%0A%20%20%20%20for%20i%2C%20val%20in%20enumerate(sol)%3A%0A%20%20%20%20%20%20%20%20print(f%22x_%7Bi%7D%20%3D%20%7Bnp.exp(val)%3A.6f%7D%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Analyser%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Writing%20well-structured%20geometric%20programs%20can%20sometimes%20be%20a%20non-trivial%20task.%20To%20assist%20with%20this%2C%20the%20analyse()%20function%20is%20included%20in%20the%20tool.%20This%20function%20provides%20a%20comprehensive%20summary%20and%20diagnostic%20of%20the%20model%2C%20helping%20users%20identify%20potential%20issues%20before%20solving.%0A%0A%20%20%20%20-%20**Constraints%20and%20Variables**%3A%20Prints%20the%20total%20number%20of%20constraints%20and%20decision%20variables.%0A%20%20%20%20-%20**Monomial%20Coefficients**%3A%20Shows%20the%20range%20of%20monomial%20coefficients%20(min%E2%80%93max)%2C%20if%20any%20are%20added.%0A%20%20%20%20-%20**Alpha%20Values**%3A%20Displays%20the%20range%20of%20non-zero%20absolute%20exponent%20values%20(alphas).%0A%20%20%20%20-%20**Degree%20of%20Difficulty**%3A%20%60totalMonomials%20-%20number%20of%20variables%20-%201%60%0A%20%20%20%20-%20**Variable%20Sign%20Check**%3A%20Issues%20warnings%20if%20a%20variable%20appears%20only%20with%20positive%20or%20only%20with%20negative%20exponents%20in%20all%20monomials%2C%20which%20helps%20identify%20potential%20modeling%20issues.%0A%0A%20%20%20%20%3Cins%3EVariable%20Sign%20Check%3C%2Fins%3E%20is%20a%20critical%20part%20of%20the%20model%20analysis%2C%20as%20it%20determines%20the%20potential%20solvability%20issues%20of%20the%20geometric%20program%20and%20can%20often%20be%20overlooked.%0A%0A%20%20%20%20If%2C%20for%20a%20decision%20variable%2C%20all%20the%20defined%20alpha%20values%20(exponents)%20have%20the%20same%20sign%E2%80%94either%20all%20positive%20or%20all%20negative%E2%80%94this%20may%20indicate%20a%20structural%20issue%20in%20the%20model%20that%20could%20hinder%20its%20solvability.%20When%20such%20a%20problem%20is%20encountered%2C%20the%20analyser%20function%20can%20help%20the%20user%20to%20identify%20the%20problem.%0A%0A%20%20%20%20Let's%20look%20at%20an%20example%20that%20illustrates%20this%20issue.%20Firstly%20the%20model%20below%20displays%20an%20example%20where%20the%20decision%20variable%20%24x%24%20combines%20both%20positive%20and%20negative%20alpha%20values.%20Therefore%2C%20MOSEK%20can%20retrieve%20the%20optimal%20solution%20easily.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(GeometricProgramming%2C%20Monomial)%3A%0A%20%20%20%20gp2%20%3D%20GeometricProgramming(0%2C%201)%20%23%20m%2Cn%20%3D%20(%23)%20of%20constraints%2C%20(%23)%20of%20variables%0A%20%20%20%20gp2.addObjective(%5B%0A%20%20%20%20%20%20%20%20Monomial.add(1%2C%20%5B0%5D%2C%20%5B2%5D)%2C%20%23%20x%5E2%0A%20%20%20%20%20%20%20%20Monomial.add(1%2C%20%5B0%5D%2C%20%5B-3%5D)%5D)%20%23%20y%5E%20(-3)%0A%0A%20%20%20%20gp2.printModel()%0A%20%20%20%20sol2%2Cvariables2%20%3D%20gp2.Solve()%20%23solve%20the%20model%0A%20%20%20%20return%20(gp2%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20As%20seen%20below%2C%20the%20analyse%20function%20does%20not%20warn%20the%20user%2C%20only%20presents%20the%20characteristics%20of%20the%20model.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(gp2)%3A%0A%20%20%20%20gp2.analyse()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20In%20the%20modified%20model%20below%2C%20the%20second%20monomial%20is%20discarded%20leaving%20the%20decision%20variable%20%24x%24%20only%20with%20a%20positive%20alpha%20value.%20Therefore%2C%20the%20%24x%24%20value%20will%20converge%20to%20_zero_%20while%20being%20strictly%20bigger%20then%20_zero_%2C%20resulting%20in%20the%20absence%20of%20an%20optimal%20solution.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(GeometricProgramming%2C%20Monomial)%3A%0A%20%20%20%20gp3%20%3D%20GeometricProgramming(0%2C%201)%20%23%20m%2Cn%20%3D%20(%23)%20of%20constraints%2C%20(%23)%20of%20variables%0A%20%20%20%20gp3.addObjective(Monomial.add(1%2C%20%5B0%5D%2C%20%5B2%5D))%20%23%20x%5E2%0A%0A%20%20%20%20gp3.printModel()%0A%20%20%20%20sol3%2Cvariables3%20%3D%20gp3.Solve()%20%23solve%20the%20model%0A%20%20%20%20return%20(gp3%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Due%20to%20the%20described%20problem%2C%20the%20analyser%20warns%20the%20user%20about%20the%20weakness%20of%20the%20model.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(gp3)%3A%0A%20%20%20%20gp3.analyse()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Similarly%20to%20the%20example%20before%2C%20if%20the%20decision%20variable%20%24x%24%20is%20only%20left%20with%20a%20negative%20alpha%20value%20we%20will%20encounter%20infeasibility%20again.%20It%20can%20be%20easily%20seen%20that%20decision%20variable%20%24x%24%20will%20converge%20to%20infinity%2C%20making%20the%20problem%20unbounded.%20When%20called%2C%20the%20analyser%20again%20warns%20the%20user%20about%20the%20mentioned%20property.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(GeometricProgramming%2C%20Monomial)%3A%0A%20%20%20%20gp4%20%3D%20GeometricProgramming(0%2C%201)%20%23%20m%2Cn%20%3D%20(%23)%20of%20constraints%2C%20(%23)%20of%20variables%0A%20%20%20%20gp4.addObjective(Monomial.add(1%2C%20%5B0%5D%2C%20%5B-3%5D))%20%23%20x%5E(-3)%0A%0A%20%20%20%20gp4.printModel()%0A%20%20%20%20sol4%2Cvariables4%20%3D%20gp4.Solve()%20%23solve%20the%20model%0A%20%20%20%20gp4.analyse()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Although%20this%20property%20can%20sometimes%20prevent%20a%20model%20from%20being%20solvable%2C%20there%20are%20cases%20where%20it%20can%20still%20be%20handled%20correctly.%20The%20following%20example%20presents%20a%20model%20with%20two%20decision%20variables%2C%20one%20of%20which%20appears%20only%20with%20positive%20exponents.%20In%20this%20case%2C%20due%20to%20the%20structure%20of%20the%20feasible%20region%2C%20an%20optimal%20solution%20exists.%0A%0A%20%20%20%20Nevertheless%2C%20this%20property%20should%20be%20treated%20as%20a%20potential%20risk%20and%20considered%20a%20diagnostic%20checkpoint%2C%20especially%20if%20the%20model%20fails.%20It%20can%20be%20flagged%20using%20the%20analyser%20function%20for%20early%20detection.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(GeometricProgramming%2C%20Monomial)%3A%0A%20%20%20%20gp5%20%3D%20GeometricProgramming(1%2C%202)%20%23%20m%2Cn%20%3D%20(%23)%20of%20constraints%2C%20(%23)%20of%20variables%0A%20%20%20%20gp5.addObjective(%5BMonomial.add(1%2C%20%5B0%5D%2C%20%5B2%5D)%2C%20%23x%5E2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Monomial.add(1%2C%20%5B1%5D%2C%20%5B-1%5D)%5D)%20%23%20y%5E(-1)%0A%0A%20%20%20%20gp5.addConstraint(0%2C%5BMonomial.add(1%2C%5B0%5D%2C%5B1%5D)%2C%20Monomial.add(1%2C%5B1%5D%2C%5B1%5D)%5D)%0A%0A%20%20%20%20gp5.printModel()%0A%20%20%20%20sol5%2Cvariables5%20%3D%20gp5.Solve()%20%23solve%20the%20model%0A%20%20%20%20gp5.analyse()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Further%20Details%0A%0A%20%20%20%20As%20explained%20earlier%2C%20the%20problem%20is%20non-convex.%20To%20solve%20the%20problem%2C%20the%20following%20transformation%20from%20the%20non-convex%20form%20to%20an%20exponential%20cone%20representation%20can%20be%20applied%2C%20which%20is%20already%20handled%20by%20the%20geometric%20programming%20class.%0A%0A%20%20%20%20%23%23%23%20Logarithmic%20Transformation%20(Convexification)%0A%0A%20%20%20%20To%20reformulate%20a%20GP%20as%20a%20**convex%20problem**%2C%20we%20apply%20a%20change%20of%20variables%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20x_j%20%3D%20e%5E%7By_j%7D%20%5Cquad%20%5Ctext%7Bfor%20%7D%20j%20%3D%201%2C%20%5Cdots%2C%20n%0A%20%20%20%20%5Cquad%20%5CRightarrow%20%5Cquad%20x%20%3D%20e%5Ey%2C%20%5Cquad%20y%20%5Cin%20%5Cmathbb%7BR%7D%5En%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20A%20**monomial**%20becomes%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20f(x)%20%3D%20c%20%5Ccdot%20e%5E%7Ba%5ET%20y%7D%20%5Cquad%20%5CRightarrow%20%5Cquad%20%5Clog%20f(x)%20%3D%20%5Clog%20c%20%2B%20a%5ET%20y%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20A%20**posynomial**%20becomes%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20f(x)%20%3D%20%5Csum_%7Bk%3D1%7D%5EK%20c_k%20%5Ccdot%20e%5E%7Ba_k%5ET%20y%7D%20%5Cquad%20%5CRightarrow%20%5Cquad%20%5Clog%20f(x)%20%3D%20%5Clog%20%5Cleft(%20%5Csum_%7Bk%3D1%7D%5EK%20%5Cexp(a_k%5ET%20y%20%2B%20%5Clog%20c_k)%20%5Cright)%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20This%20is%20known%20as%20the%20**log-sum-exp%20function**%2C%20which%20is%20a%20**convex**%20function%20of%20%5C(%20y%20%5Cin%20%5Cmathbb%7BR%7D%5En%20%5C).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Convex%20Reformulation%0A%0A%20%20%20%20The%20original%20GP%20is%20now%20transformed%20into%20the%20following%20**convex%20optimization%20problem**%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Cbegin%7Baligned%7D%0A%20%20%20%20%5Ctext%7Bminimize%7D%20%5Cquad%20%26%20t%20%5C%5C%0A%20%20%20%20%5Ctext%7Bsubject%20to%7D%20%5Cquad%20%26%20%5Clog%5Cleft(%20%5Csum_%7Bk%3D1%7D%5E%7BK_0%7D%20%5Cexp(a_k%5E%7B(0)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(0)%7D)%20%5Cright)%20%5Cleq%20t%20%5C%5C%0A%20%20%20%20%26%20%5Clog%5Cleft(%20%5Csum_%7Bk%3D1%7D%5E%7BK_i%7D%20%5Cexp(a_k%5E%7B(i)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(i)%7D)%20%5Cright)%20%5Cleq%200%2C%20%5Cquad%20i%20%3D%201%2C%20%5Cdots%2C%20m%0A%20%20%20%20%5Cend%7Baligned%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Where%20%5C(%20t%20%5Cin%20%5Cmathbb%7BR%7D%20%5C)%20is%20a%20**scalar%20upper%20bound%20variable**.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Exponential%20Cone%20Representation%0A%0A%20%20%20%20The%20objective%20function%20constraint%20of%20the%20form%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Clog%5Cleft(%20%5Csum_%7Bk%3D1%7D%5E%7BK_0%7D%20%5Cexp(a_k%5E%7B(0)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(0)%7D)%20%5Cright)%20%5Cleq%20t%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20can%20be%20equivalently%20written%20as%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Csum_%7Bk%7D%20u_k%20%5Cleq%201%2C%20%5Cquad%20%5Ctext%7Bwith%7D%20%5Cquad%20(u_k%2C%201%2C%20(a_k%5E%7B(0)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(0)%7D%20-%20%5Ctau)%20%5Cin%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Where%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%20%3A%3D%20%5Cleft%5C%7B%20(x%2C%20y%2C%20z)%20%5Cin%20%5Cmathbb%7BR%7D%5E3%20%5C%3B%5Cmiddle%7C%5C%3B%20y%20%3E%200%2C%5C%3B%20y%20%5Ccdot%20e%5E%7Bx%2Fy%7D%20%5Cleq%20z%20%5Cright%5C%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20And%20each%20constraint%20of%20the%20form%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Clog%5Cleft(%20%5Csum_%7Bk%3D1%7D%5E%7BK_i%7D%20%5Cexp%5Cleft(a_k%5E%7B(i)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(i)%7D%5Cright)%20%5Cright)%20%5Cleq%200%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20can%20be%20equivalently%20written%20as%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Csum_k%20u_k%20%5Cleq%201%2C%20%5Cquad%20%5Ctext%7Bwith%7D%20%5Cquad%20(u_k%2C%201%2C%20a_k%5E%7B(i)%5Ctop%7D%20y%20%2B%20%5Clog%20c_k%5E%7B(i)%7D)%20%5Cin%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20Where%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%20%3A%3D%20%5Cleft%5C%7B%20(x%2C%20y%2C%20z)%20%5Cin%20%5Cmathbb%7BR%7D%5E3%20%5C%3B%5Cmiddle%7C%5C%3B%20y%20%3E%200%2C%5C%3B%20y%20%5Ccdot%20e%5E%7Bx%2Fy%7D%20%5Cleq%20z%20%5Cright%5C%7D%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20This%20transforms%20the%20log-sum-exp%20constraint%20into%20a%20set%20of%20**conic%20constraints**%2C%20using%20**auxiliary%20variables**%20%5C(%20u_k%20%5C)%20and%20the%20**exponential%20cone**.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20---%0A%20%20%20%20Then%20we%20can%20apply%20this%20transformation%20to%20our%20original%20model%3A%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Minimize%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20x%20%2B%20y%5E2%20z%0A%20%20%20%20%24%24%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Subject%20to%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%200.1%5Csqrt%7Bx%7D%20%2B%202y%5E%7B-1%7D%20%5Cleq%201%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20%24%24%0A%20%20%20%20z%5E%7B-1%7D%20%2B%20yx%5E%7B-2%7D%20%5Cleq%201.%0A%20%20%20%20%24%24%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Let%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20x%20%3D%20e%5Eu%2C%20%5Cquad%20y%20%3D%20e%5Ev%2C%20%5Cquad%20z%20%3D%20e%5Ew%0A%20%20%20%20%5C%5D%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20Then%20we%20can%20apply%20the%20following%20transformation%3A%0A%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Minimize%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20t%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Subject%20to%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Clog%5Cleft(e%5Eu%20%2B%20e%5E%7B2v%20%2B%20w%7D%5Cright)%20%5Cleq%20t%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Clog%5Cleft(0.1e%5E%7Bu%2F2%7D%20%2B%202e%5E%7B-v%7D%5Cright)%20%5Cleq%200%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20%5Clog%5Cleft(e%5E%7B-w%7D%20%2B%20e%5E%7Bv%20-%202u%7D%5Cright)%20%5Cleq%200%0A%20%20%20%20%5C%5D%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Minimize%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20t%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%24%5Cquad%5Cquad%5Cquad%24%20Subject%20to%3A%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20(p_1%2C%201%2C%20u%20-%20t)%2C%20%5Cquad%20(q_1%2C%201%2C%202v%20%2B%20w%20-%20t)%20%5Cin%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%2C%20%5Cquad%20p_1%20%2B%20q_1%20%5Cleq%201%2C%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20(p_2%2C%201%2C%200.5u%20%2B%20%5Clog(0.1))%2C%20%5Cquad%20(q_2%2C%201%2C%20-v%20%2B%20%5Clog(2))%20%5Cin%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%2C%20%5Cquad%20p_2%20%2B%20q_2%20%5Cleq%201%2C%0A%20%20%20%20%5C%5D%0A%0A%20%20%20%20%5C%5B%0A%20%20%20%20(p_3%2C%201%2C%20-w)%2C%20%5Cquad%20(q_3%2C%201%2C%20v%20-%202u)%20%5Cin%20%5Cmathcal%7BK%7D_%7B%5Cexp%7D%2C%20%5Cquad%20p_3%20%2B%20q_3%20%5Cleq%201.%0A%20%20%20%20%5C%5D%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%208.%20Summary%20of%20Variable%20Domains%0A%0A%20%20%20%20%7C%20Symbol%20%7C%20Meaning%20%7C%20Domain%20%7C%0A%20%20%20%20%7C--------%7C---------%7C--------%7C%0A%20%20%20%20%7C%20%5C(%20x%20%5C)%20%7C%20Original%20decision%20variables%20%7C%20%5C(%20%5Cmathbb%7BR%7D_%7B%2B%7D%5En%20%5C)%20%7C%0A%20%20%20%20%7C%20%5C(%20y%20%5C)%20%7C%20Log-transformed%20variables%20%5C(%20y%20%3D%20%5Clog%20x%20%5C)%20%7C%20%5C(%20%5Cmathbb%7BR%7D%5En%20%5C)%20%7C%0A%20%20%20%20%7C%20%5C(%20c_k%20%5C)%20%7C%20Monomial%2Fposynomial%20coefficients%20%7C%20%5C(%20%5Cmathbb%7BR%7D_%7B%2B%7D%20%5C)%20%7C%0A%20%20%20%20%7C%20%5C(%20a_k%20%5C)%20%7C%20Monomial%20exponents%20%7C%20%5C(%20%5Cmathbb%7BR%7D%5En%20%5C)%20%7C%0A%20%20%20%20%7C%20%5C(%20t%20%5C)%20%7C%20Scalar%20upper%20bound%20variable%20%7C%20%5C(%20%5Cmathbb%7BR%7D%20%5C)%20%7C%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20%23%23%20References%0A%0A%20%20%20%20Some%20of%20the%20definitions%20used%20in%20this%20notebook%20are%20taken%20from%20the%20work%20%5BA%20Tutorial%20on%20Geometric%20Programming%5D(https%3A%2F%2Fstanford.edu%2F~boyd%2Fpapers%2Fpdf%2Fgp_tutorial.pdf)%20by%20Boyd%20et%20al.%0A%0A%20%20%20%20You%20can%20also%20read%20more%20about%20Geometric%20Programming%20and%20the%20example%20used%20in%20the%20%5BMOSEK%20Modeling%20Cookbook%5D(https%3A%2F%2Fdocs.mosek.com%2Fmodeling-cookbook%2Fexpo.html%23geometric-programming).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20%23Appendix%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20The%20class%20definitions%2C%20used%20functions%20and%20model%20implementation%20can%20be%20examined%20below.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20from%20mosek.fusion%20import%20Model%2C%20Domain%2C%20Expr%2C%20ObjectiveSense%0A%20%20%20%20import%20mosek.fusion.pythonic%0A%0A%20%20%20%20class%20Monomial%3A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20coefficient%3DNone%2C%20indices%3DNone%2C%20alphas%3DNone%2C%20n%3DNone)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.coefficient%20%3D%20coefficient%0A%20%20%20%20%20%20%20%20%20%20%20%20self.indices%20%3D%20indices%0A%20%20%20%20%20%20%20%20%20%20%20%20self.alphas%20%3D%20%5B0%5D%20*%20n%20if%20n%20is%20not%20None%20else%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20indices%20is%20not%20None%20and%20alphas%20is%20not%20None%20and%20n%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20idx%2C%20alpha%20in%20zip(indices%2C%20alphas)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.alphas%5Bidx%5D%20%3D%20alpha%0A%0A%20%20%20%20%20%20%20%20%40classmethod%0A%20%20%20%20%20%20%20%20def%20add(cls%2C%20coefficient%2C%20indices%2C%20alphas)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20obj%20%3D%20cls(coefficient%3Dcoefficient%2C%20indices%3Dindices%2C%20alphas%3DNone)%0A%20%20%20%20%20%20%20%20%20%20%20%20obj.indices_alphas%20%3D%20alphas%20%20%23%20Store%20original%20input%20to%20reconstruct%20later%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20obj%0A%0A%20%20%20%20%20%20%20%20def%20defineMonomial(self)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20terms%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20has_coefficient%20%3D%20self.coefficient%20!%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%2C%20alpha%20in%20enumerate(self.alphas)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20alpha%20!%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terms.append(f%22(x_%7Bi%7D%20%5E%20%7Balpha%7D)%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20joined%20%3D%20%22%20*%20%22.join(%5Bf%22%7Bself.coefficient%7D%22%20if%20has_coefficient%20else%20%22%22%5D%20%2B%20terms%20if%20has_coefficient%20else%20terms)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20has_coefficient%20or%20len(terms)%20%3E%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20f%22(%7Bjoined.strip()%7D)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20joined.strip()%0A%0A%20%20%20%20%20%20%20%20%40staticmethod%0A%20%20%20%20%20%20%20%20def%20definePosynomial(monomials)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%20%2B%20%22.join(%5Bm.defineMonomial()%20for%20m%20in%20monomials%5D)%0A%0A%20%20%20%20class%20GeometricProgramming%3A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20m%2C%20n)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.m%20%3D%20m%0A%20%20%20%20%20%20%20%20%20%20%20%20self.n%20%3D%20n%0A%20%20%20%20%20%20%20%20%20%20%20%20self.constraintsMonomials%20%3D%20%5B%5B%5D%20for%20_%20in%20range(m)%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.objectiveMonomials%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20self.totalMonomials%20%3D%200%0A%0A%20%20%20%20%20%20%20%20def%20_fillAlphas(self%2C%20monomial)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Check%20all%20alphas%20before%20assigning%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20alpha%20in%20monomial.indices_alphas%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20alpha%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22Invalid%20alpha%20value%20%7Balpha%7D%3A%20all%20exponents%20must%20be%20non-zero.%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Safe%20to%20assign%20now%0A%20%20%20%20%20%20%20%20%20%20%20%20monomial.alphas%20%3D%20%5B0%5D%20*%20self.n%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20idx%2C%20alpha%20in%20zip(monomial.indices%2C%20monomial.indices_alphas)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20monomial.alphas%5Bidx%5D%20%3D%20alpha%0A%0A%20%20%20%20%20%20%20%20def%20_checkDuplicateIndex(self%2Cmonomial)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20seen%20%3D%20set()%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20idx%20in%20monomial.indices%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20idx%20in%20seen%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Input%20indices%20has%20to%20be%20unique.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20seen.add(idx)%0A%0A%20%20%20%20%20%20%20%20def%20addObjective(self%2C%20monomial)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(monomial%2C%20list)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20m%20in%20monomial%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.addObjective(m)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20monomial.coefficient%20%3C%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Coefficient%20must%20be%20positive%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self._checkDuplicateIndex(monomial)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self._fillAlphas(monomial)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.objectiveMonomials.append(monomial)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.totalMonomials%20%2B%3D%201%0A%0A%20%20%20%20%20%20%20%20def%20addConstraint(self%2C%20index%2C%20monomial)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20index%20%3E%3D%20self.m%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22Constraint%20index%20%7Bindex%7D%20out%20of%20range%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(monomial%2C%20list)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20m%20in%20monomial%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.addConstraint(index%2C%20m)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20monomial.coefficient%20%3C%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Coefficient%20must%20be%20positive%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self._checkDuplicateIndex(monomial)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self._fillAlphas(monomial)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.totalMonomials%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.constraintsMonomials%5Bindex%5D.append(monomial)%0A%0A%20%20%20%20%20%20%20%20def%20evaluateObjective(self%2C%20x_values)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20len(x_values)%20!%3D%20self.n%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22x_values%20length%20%7Blen(x_values)%7D%20does%20not%20match%20problem%20dimension%20%7Bself.n%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20objective_val%20%3D%200.0%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20mon%20in%20self.objectiveMonomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20term%20%3D%20mon.coefficient%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20i%2C%20alpha%20in%20enumerate(mon.alphas)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20term%20*%3D%20x_values%5Bi%5D%20**%20alpha%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20objective_val%20%2B%3D%20term%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20objective_val%0A%0A%20%20%20%20%20%20%20%20def%20analyse(self)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22---------%20Model%20Analysis%20---------%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22%23%20of%20constraints%3A%20%22%2C%20self.m)%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22%23%20of%20variables%3A%20%22%2C%20self.n)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20all_monomials%20%3D%20self.objectiveMonomials%20%2B%20%5Bm%20for%20sublist%20in%20self.constraintsMonomials%20for%20m%20in%20sublist%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20coefficients%20%3D%20%5Bmon.coefficient%20for%20mon%20in%20all_monomials%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20coefficients%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Range%20of%20coefficients%3A%20%5B%7Bmin(coefficients)%7D%2C%20%7Bmax(coefficients)%7D%5D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22No%20monomials%20added%20yet.%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20all_alphas%20%3D%20%5Babs(alpha)%20for%20mon%20in%20all_monomials%20for%20alpha%20in%20mon.alphas%20if%20alpha%20!%3D%200%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20all_alphas%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Range%20of%20absolute%20alpha%20values%3A%20%5B%7Bmin(all_alphas)%7D%2C%20%7Bmax(all_alphas)%7D%5D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22No%20alpha%20values%20found.%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22Degree%20of%20Difficulty%3A%20%22%2C%20self.totalMonomials%20-%20self.n%20-%201%2C%20%22%5Cn%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%20in%20range(self.n)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signs%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20mon%20in%20all_monomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alpha%20%3D%20mon.alphas%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20alpha%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signs.append(1)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20alpha%20%3C%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signs.append(-1)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20signs%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20all(s%20%3E%200%20for%20s%20in%20signs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Warning%3A%20Variable%20x_%7Bi%7D%20only%20has%20positive%20exponents%20across%20all%20monomials.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elif%20all(s%20%3C%200%20for%20s%20in%20signs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Warning%3A%20Variable%20x_%7Bi%7D%20only%20has%20negative%20exponents%20across%20all%20monomials.%22)%0A%0A%20%20%20%20%20%20%20%20def%20printModel(self)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22Objective%20function%3A%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20print(f%22%5CtMinimize%3A%20%7BMonomial.definePosynomial(self.objectiveMonomials)%7D%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20any(self.constraintsMonomials)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22%5CnConstraints%3A%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20i%2C%20con%20in%20enumerate(self.constraintsMonomials)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20con%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22%5CtConstraint%20%7Bi%2B1%7D%3A%20%7BMonomial.definePosynomial(con)%7D%20%3C%3D%201%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22%5CnNo%20constraints%20defined.%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(%22%20%22)%0A%0A%20%20%20%20%20%20%20%20def%20Solve(self%2C%20fileName%3DNone)%3A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20self.objectiveMonomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22No%20objective%20monomials%20defined.%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20M%20%3D%20Model()%0A%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%20M.variable(%22x%22%2C%20self.n)%0A%20%20%20%20%20%20%20%20%20%20%20%20t%20%3D%20M.variable(%22t%22%2C%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%20M.variable(%22p%22%2C%20self.totalMonomials)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20currentMonomialIndex%20%3D%200%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Objective%0A%20%20%20%20%20%20%20%20%20%20%20%20dummySum%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20objectiveMonomials%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20noOfMono%20%3D%20len(self.objectiveMonomials)%0A%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%200%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20noOfMono%20%3E%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20mon%20in%20self.objectiveMonomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20expr%20%3D%20Expr.dot(mon.alphas%2C%20x.T)%20%2B%20np.log(mon.coefficient)%20-%20t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20objectiveMonomials.append(expr)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dummySum.append(p%5BcurrentMonomialIndex%20%2B%20j%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Objective%20Definition%22%2C%20Expr.hstack(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20p.slice(currentMonomialIndex%2C%20currentMonomialIndex%20%2B%20noOfMono)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Expr.ones(noOfMono)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Expr.vstack(objectiveMonomials))%20%3D%3D%20Domain.inPExpCone())%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Objective%20Dummy%20Sum%22%2C%20Expr.sum(Expr.vstack(dummySum))%20%3C%3D%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Objective%20Definition%22%2C%20Expr.dot(self.objectiveMonomials%5B0%5D.alphas%2C%20x.T)%20%3C%3D%20t)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20currentMonomialIndex%20%2B%3D%20noOfMono%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Constraints%20(only%20if%20defined)%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20i%2C%20monomials%20in%20enumerate(self.constraintsMonomials)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20monomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%20%20%23%20Skip%20empty%20constraint%20slots%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noOfMono%20%3D%20len(monomials)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constraintMonomials%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dummySum%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20noOfMono%20%3E%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20mon%20in%20monomials%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20expr%20%3D%20Expr.dot(mon.alphas%2C%20x.T)%20%2B%20np.log(mon.coefficient)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20constraintMonomials.append(expr)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dummySum.append(p%5BcurrentMonomialIndex%20%2B%20j%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%3D%201%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Conic-Constraint%20Definition%22%20%2B%20str(i)%2C%20Expr.hstack(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20p.slice(currentMonomialIndex%2C%20currentMonomialIndex%20%2B%20noOfMono)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Expr.ones(noOfMono)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Expr.vstack(constraintMonomials))%20%3D%3D%20Domain.inPExpCone())%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Constraint%20Dummy%20Sum%22%20%2B%20str(i)%2C%20Expr.sum(Expr.vstack(dummySum))%20%3C%3D%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.constraint(%22Constraint%20Definition%22%20%2B%20str(i)%2C%20Expr.dot(monomials%5B0%5D.alphas%2C%20x.T)%20%2B%20np.log(monomials%5B0%5D.coefficient)%20%3C%3D%200)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentMonomialIndex%20%2B%3D%20noOfMono%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20M.objective(%22Objective%20Function%22%2C%20ObjectiveSense.Minimize%2C%20t)%0A%20%20%20%20%20%20%20%20%20%20%20%20M.solve()%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20fileName%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M.writeTask(fileName%20%2B%20%22.ptf%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20ModelStatus%20%3D%20M.getPrimalSolutionStatus()%0A%20%20%20%20%20%20%20%20%20%20%20%20ProblemStatus%20%3D%20M.getProblemStatus()%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20ModelStatus%20%3D%3D%20mosek.fusion.pythonic.SolutionStatus.Optimal%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sol%20%3D%20x.level()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vars%20%3D%20np.exp(sol)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22Model%20Status%3A%20Optimal%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sol%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vars%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22The%20problem%20does%20not%20have%20an%20optimal%20solution.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(%22Problem%20Status%3A%20%22%2C%20ProblemStatus)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20sol%2C%20vars%0A%20%20%20%20return%20GeometricProgramming%2C%20Monomial%2C%20np%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20rel%3D%22license%22%20href%3D%22http%3A%2F%2Fcreativecommons.org%2Flicenses%2Fby%2F4.0%2F%22%3E%3Cimg%20alt%3D%22Creative%20Commons%20License%22%20style%3D%22border-width%3A0%22%20src%3D%22https%3A%2F%2Fi.creativecommons.org%2Fl%2Fby%2F4.0%2F80x15.png%22%20%2F%3E%3C%2Fa%3E%3Cbr%20%2F%3EThis%20work%20is%20licensed%20under%20a%20%3Ca%20rel%3D%22license%22%20href%3D%22http%3A%2F%2Fcreativecommons.org%2Flicenses%2Fby%2F4.0%2F%22%3ECreative%20Commons%20Attribution%204.0%20International%20License%3C%2Fa%3E.%20The%20**MOSEK**%20logo%20and%20name%20are%20trademarks%20of%20%3Ca%20href%3D%22http%3A%2F%2Fmosek.com%22%3EMosek%20ApS%3C%2Fa%3E.%20The%20code%20is%20provided%20as-is.%20Compatibility%20with%20future%20release%20of%20**MOSEK**%20or%20the%20%60Fusion%20API%60%20are%20not%20guaranteed.%20For%20more%20information%20contact%20our%20%5Bsupport%5D(mailto%3Asupport%40mosek.com).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">8692ce91d0df89bc15341826d10fcbbf</marimo-code-hash>
</body>
</html>
